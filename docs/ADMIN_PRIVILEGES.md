# SocioMint合约管理权限转移计划

为确保SocioMint项目的安全性和去中心化治理，所有关键合约的管理权限将转移至多签钱包。本文档详细说明了各合约的权限模型和转移计划。

## 多签钱包要求

项目将使用基于Gnosis Safe的3/5多签钱包：
- 需要至少3个签名者确认才能执行交易
- 共有5个签名者，包括核心团队成员和外部顾问
- 多签钱包的地址将在主网部署前公开

## 各合约权限转移计划

### SMToken

**当前权限模型：**
- `owner`：拥有暂停、恢复代币转移和授权升级的权限

**转移计划：**
1. 在主网部署后，将立即通过`transferOwnership()`函数将所有权转移给多签钱包
2. 确认多签钱包已接受所有权
3. 发布交易哈希和转移证明

### SMPresale

**当前权限模型：**
- `ADMIN_ROLE`：具有暂停/恢复预售、结束预售、紧急提取和更新参数的权限
- `PRICE_UPDATER_ROLE`：有权更新代币价格
- `VERIFIER_ROLE`：有权验证用户X平台认证

**转移计划：**
1. 在初始化时将`ADMIN_ROLE`和`DEFAULT_ADMIN_ROLE`分配给多签钱包
2. `PRICE_UPDATER_ROLE`分配给多签钱包和价格更新服务（受多签控制）
3. `VERIFIER_ROLE`分配给验证服务（受多签控制）
4. 在部署后通过多签钱包重新确认所有角色分配

### TeamUnlockerV2

**当前权限模型：**
- `DEFAULT_ADMIN_ROLE`：可以授权升级和执行紧急提取
- `ADMIN_ROLE`：可以请求紧急模式、设置自定义KPI和请求解锁

**转移计划：**
1. 在初始化时将`DEFAULT_ADMIN_ROLE`分配给多签钱包
2. 将`ADMIN_ROLE`分配给多签钱包和专门的管理服务（受多签控制）
3. 确保紧急模式需要多个确认（至少3个）
4. 在部署后通过多签钱包验证权限配置

### CoreSystem

**当前权限模型：**
- `DEFAULT_ADMIN_ROLE`：授权升级和执行紧急提取的权限
- `ADMIN_ROLE`：设置合约地址和更新参数的权限
- `PRICE_MONITOR_ROLE`：触发价格稳定机制的权限
- `TREASURY_MANAGER_ROLE`：管理资金分配的权限
- `TEAM_ROLE`：团队角色权限

**转移计划：**
1. 在初始化时将`DEFAULT_ADMIN_ROLE`和`ADMIN_ROLE`分配给多签钱包
2. `PRICE_MONITOR_ROLE`分配给价格监控服务（受多签控制）
3. `TREASURY_MANAGER_ROLE`分配给多签钱包
4. `TEAM_ROLE`分配给团队多签钱包（独立的多签）
5. 在部署后通过多签钱包验证权限配置

### MerchantManager

**当前权限模型：**
- `DEFAULT_ADMIN_ROLE`：授权升级的权限
- `ADMIN_ROLE`：更新参数和暂停/恢复的权限

**转移计划：**
1. 在初始化时将`DEFAULT_ADMIN_ROLE`和`ADMIN_ROLE`分配给多签钱包
2. 在部署后通过多签钱包验证权限配置

## 权限验证机制

为确保所有合约的管理权限确实已转移至多签钱包，项目将实施以下验证机制：

1. **部署后验证脚本**：自动检查所有关键角色是否已分配给多签钱包
2. **公开审计**：发布所有角色分配的交易哈希和证明
3. **定期权限扫描**：每月扫描确保权限状态未发生变化

## 时间表

1. **测试网部署**：使用测试多签钱包，验证权限转移流程
2. **主网部署**：立即将所有关键权限转移至生产多签钱包
3. **公告**：在项目网站和社交媒体发布转移证明
4. **定期审查**：每月审查和发布权限状态报告

---

本文档将根据项目进展和安全需求不断更新。任何权限模型的变更都将通过多签钱包批准并公开宣布。 