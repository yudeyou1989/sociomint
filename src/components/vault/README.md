# 钱库系统与通证价值稳定组件

## 功能概述

钱库系统（TokenVault）组件是SocioMint平台的核心金融组件，用于实现以下功能：

1. **白名单系统管理**：控制哪些用户可以参与特定金融操作，设置用户权限和额度限制。
2. **通证价值稳定机制**：实现多种价格稳定策略，确保平台通证价值的稳定性。
3. **资金管理功能**：监控和管理系统中的通证流通情况，维持储备率。
4. **价格历史图表**：展示通证价格历史走势，支持不同时间范围的查看。
5. **稳定机制自动触发配置**：允许管理员设置价格触发条件和相应动作。

## 组件结构

TokenVault系统由以下组件组成：

1. **TokenVault**：主组件，整合了所有功能模块，提供统一的用户界面。
2. **TokenChart**：通证价格历史图表组件，支持多种时间范围查看。
3. **StabilizationConfig**：稳定机制触发条件配置组件，管理自动化稳定策略。
4. **VaultPage**：页面级组件，集成区块链钱包连接功能。

TokenVault主组件包含四个主要的功能面板：

1. **概览面板**：显示通证总量、流通量、储备率、价格状态和图表等核心指标。
2. **白名单管理**：提供白名单用户的添加、查看和状态管理功能。
3. **稳定机制配置**：展示和控制各种价格稳定机制的开启/关闭状态。
4. **高级配置**：提供稳定机制触发条件的精细配置功能。

## 区块链集成

系统支持与以太坊兼容的区块链网络连接，主要功能包括：

1. **钱包连接**：支持连接MetaMask等Web3钱包。
2. **账户识别**：自动识别并显示连接的钱包地址。
3. **权限验证**：根据白名单检查用户权限。
4. **实时数据更新**：通过区块链事件监听实时更新数据。

## 稳定机制说明

当前系统实现了三种主要的通证价值稳定机制：

1. **自动回购**：当通证价格低于预设阈值时，系统自动使用储备金回购通证，减少流通量并支撑价格。
2. **动态发行费率**：根据市场价格波动，动态调整通证发行的成本，平衡供需关系。
3. **锁仓挖矿激励**：通过奖励锁定通证的用户，减少市场流通量，稳定通证价值。

## 价格图表功能

价格历史图表组件提供以下功能：

1. **多时间范围**：支持24小时、7天、30天、90天和全部历史数据查看。
2. **价格变化统计**：显示指定时间段内的价格变化百分比。
3. **高低价显示**：展示选定时间范围内的最高价和最低价。
4. **实时数据更新**：定期自动更新最新价格数据。

## 触发条件配置

稳定机制触发条件配置组件允许管理员：

1. **创建触发条件**：设置价格阈值触发特定的稳定机制。
2. **配置操作参数**：设置触发后执行操作的具体参数（如回购数量）。
3. **设置冷却时间**：防止机制过于频繁触发，造成市场干扰。
4. **管理多级触发**：配置梯度保护机制，应对不同程度的价格波动。

## 白名单系统设计

白名单系统为每个授权用户提供以下信息：

- 用户ID和名称
- 区块链钱包地址
- 授权操作额度
- 账户状态（活跃/待审核/已暂停）

## 技术实现

- 使用React Hooks管理组件状态和副作用
- 采用模块化设计，分离数据和UI逻辑
- 响应式布局，适配不同屏幕尺寸
- 使用SVG绘制价格图表，确保高性能
- 实现实时数据更新和钱包连接功能

## 使用说明

在应用中集成TokenVault系统：

```jsx
// 在路由中添加VaultPage
import VaultPage from './pages/VaultPage';

function App() {
  return (
    <Routes>
      <Route path="/vault" element={<VaultPage />} />
      {/* 其他路由 */}
    </Routes>
  );
}
```

## 未来扩展

1. 添加更多价格稳定算法和触发条件类型
2. 实现更复杂的图表功能，包括交易量和技术指标
3. 开发更高级的权限管理系统，支持多级授权
4. 集成智能合约直接操作功能，实现完全去中心化管理
5. 添加多链支持，兼容更多区块链网络 