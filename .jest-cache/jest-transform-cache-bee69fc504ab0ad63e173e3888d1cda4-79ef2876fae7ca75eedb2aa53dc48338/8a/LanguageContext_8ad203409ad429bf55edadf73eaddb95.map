{"version":3,"names":["cov_149u1sv70l","actualCoverage","s","LanguageProvider","f","useLanguage","LanguageContext","_react","createContext","undefined","children","t","i18n","_reacti18next","useTranslation","locale","setLocaleState","useState","_i18n","defaultLocale","useEffect","window","b","savedLocale","localStorage","getItem","changeLanguage","setLocale","newLocale","setItem","_jsxruntime","jsx","Provider","value","context","useContext","Error"],"sources":["/Users/yudeyou/Desktop/sm/sociomint/src/contexts/LanguageContext.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Locale, defaultLocale } from '@/lib/i18n';\n\ninterface LanguageContextType {\n  locale: Locale;\n  setLocale: (locale: Locale) => void;\n  t: (key: string) => string;\n}\n\nconst LanguageContext = createContext<LanguageContextType | undefined>(undefined);\n\nexport function LanguageProvider({ children }: { children: React.ReactNode }) {\n  const { t, i18n } = useTranslation();\n  const [locale, setLocaleState] = useState<Locale>(defaultLocale);\n\n  // 从localStorage恢复语言设置\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      const savedLocale = localStorage.getItem('language') as Locale;\n      if (savedLocale && (savedLocale === 'en' || savedLocale === 'zh')) {\n        setLocaleState(savedLocale);\n        i18n.changeLanguage(savedLocale);\n      }\n    }\n  }, [i18n]);\n\n  const setLocale = (newLocale: Locale) => {\n    setLocaleState(newLocale);\n    i18n.changeLanguage(newLocale);\n    if (typeof window !== 'undefined') {\n      localStorage.setItem('language', newLocale);\n    }\n  };\n\n  return (\n    <LanguageContext.Provider value={{ locale, setLocale, t }}>\n      {children}\n    </LanguageContext.Provider>\n  );\n}\n\nexport function useLanguage() {\n  const context = useContext(LanguageContext);\n  if (!context) {\n    throw new Error('useLanguage must be used within a LanguageProvider');\n  }\n  return context;\n}\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}