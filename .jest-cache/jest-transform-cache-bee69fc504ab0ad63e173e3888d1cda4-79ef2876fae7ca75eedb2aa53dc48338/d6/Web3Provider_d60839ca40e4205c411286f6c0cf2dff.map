{"version":3,"names":["Web3Provider","projectId","cov_t5seklqu5","s","b","process","env","NEXT_PUBLIC_WALLET_CONNECT_PROJECT_ID","queryClient","_reactquery","QueryClient","defaultOptions","queries","refetchOnWindowFocus","staleTime","retry","gcTime","children","f","wagmiConfig","_react","useMemo","chains","_chains","bsc","bscTestnet","_wagmi","createConfig","transports","id","_viem","http","NEXT_PUBLIC_BSC_MAINNET_RPC_URL","rpcUrls","default","NEXT_PUBLIC_BSC_TESTNET_RPC_URL","connectors","_connectors","injected","walletConnect","showQrModal","_jsxruntime","jsx","WagmiConfig","config","QueryClientProvider","client"],"sources":["/Users/yudeyou/Desktop/sm/sociomint/src/providers/Web3Provider.tsx"],"sourcesContent":["'use client';\n\nimport { ReactNode, useMemo } from 'react';\nimport { createConfig, WagmiConfig } from 'wagmi';\nimport { http } from 'viem';\nimport { bsc, bscTestnet } from 'viem/chains';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport { injected, walletConnect } from '@wagmi/connectors';\n\n// WalletConnect项目ID\nconst projectId = process.env.NEXT_PUBLIC_WALLET_CONNECT_PROJECT_ID || 'fced525820007c9c024132cf432ffcae';\n\n// 创建一个稳定的React Query客户端实例\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      refetchOnWindowFocus: false,\n      staleTime: 1000 * 60 * 2, // 2分钟\n      retry: 1, // 减少重试次数\n      gcTime: 1000 * 60 * 10, // 10分钟缓存 (注意：cacheTime在新版本中改为gcTime)\n    },\n  },\n});\n\ninterface Web3ProviderProps {\n  children: ReactNode;\n}\n\nexport default function Web3Provider({ children }: Web3ProviderProps) {\n  // 使用useMemo缓存配置，避免每次渲染重新创建\n  const wagmiConfig = useMemo(() => {\n    // 定义链\n    const chains = [bsc, bscTestnet];\n\n    // 创建Wagmi配置\n    return createConfig({\n      chains,\n      transports: {\n        [bsc.id]: http(process.env.NEXT_PUBLIC_BSC_MAINNET_RPC_URL || bsc.rpcUrls.default[0]),\n        [bscTestnet.id]: http(process.env.NEXT_PUBLIC_BSC_TESTNET_RPC_URL || bscTestnet.rpcUrls.default[0]),\n      },\n      connectors: [\n        injected({ chains }),\n        walletConnect({\n          projectId,\n          chains,\n          showQrModal: true,\n        }),\n      ],\n    });\n  }, []);\n\n  return (\n    <WagmiConfig config={wagmiConfig}>\n      <QueryClientProvider client={queryClient}>\n        {children}\n      </QueryClientProvider>\n    </WagmiConfig>\n  );\n}\n"],"mappings":"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","ignoreList":[]}