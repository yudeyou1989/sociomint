{"version":3,"names":["ConnectWalletButton","cov_cqo8ym80k","f","s","_jsxruntime","jsx","_ClientOnly","default","ConnectWalletButtonInner","wallet","disconnectWallet","isConnecting","_WalletContext","useWallet","isModalOpen","setIsModalOpen","_react","useState","isHovered","setIsHovered","networkName","setNetworkName","formatAddress","address","b","slice","useEffect","isConnected","chainId","network","_walletService","getNetworkInfo","name","handleOpenModal","handleCloseModal","handleMouseEnter","handleMouseLeave","jsxs","className","_NetworkSwitcher","onClick","disabled","title","_FaWallet","onMouseEnter","onMouseLeave","_io5","IoExitOutline","_WalletSelectModal","isOpen","onClose"],"sources":["/Users/yudeyou/Desktop/sm/sociomint/src/components/wallet/ConnectWalletButton.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { FaWallet } from 'react-icons/fa';\nimport { IoExitOutline } from 'react-icons/io5';\nimport { useWallet } from '@/contexts/WalletContext';\nimport WalletSelectModal from './WalletSelectModal';\nimport NetworkSwitcher from './NetworkSwitcher';\nimport { getNetworkInfo } from '@/services/walletService';\nimport ClientOnly from '../ClientOnly';\n\nexport default function ConnectWalletButton() {\n  return (\n    <ClientOnly>\n      <ConnectWalletButtonInner />\n    </ClientOnly>\n  );\n}\n\nfunction ConnectWalletButtonInner() {\n  const { wallet, disconnectWallet, isConnecting } = useWallet();\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [isHovered, setIsHovered] = useState(false);\n  const [networkName, setNetworkName] = useState<string>('');\n\n  // 格式化地址显示，隐藏中间部分\n  const formatAddress = (address: string) => {\n    if (!address) return '';\n    return `${address.slice(0, 6)}...${address.slice(-4)}`;\n  };\n\n  // 获取并设置当前网络名称\n  useEffect(() => {\n    if (wallet.isConnected && wallet.chainId) {\n      const network = getNetworkInfo(wallet.chainId);\n      setNetworkName(network?.name || `Chain ${wallet.chainId}`);\n    } else {\n      setNetworkName('');\n    }\n  }, [wallet.isConnected, wallet.chainId]);\n\n  // 打开钱包选择模态框\n  const handleOpenModal = () => {\n    setIsModalOpen(true);\n  };\n\n  // 关闭钱包选择模态框\n  const handleCloseModal = () => {\n    setIsModalOpen(false);\n  };\n\n  // 鼠标悬停状态管理\n  const handleMouseEnter = () => {\n    setIsHovered(true);\n  };\n\n  const handleMouseLeave = () => {\n    setIsHovered(false);\n  };\n\n  return (\n    <div className=\"flex items-center gap-2\">\n      {/* 网络切换器 */}\n      {wallet.isConnected && <NetworkSwitcher />}\n\n      {/* 连接按钮 */}\n      {!wallet.isConnected ? (\n        <button\n          onClick={handleOpenModal}\n          disabled={isConnecting}\n          className=\"neon-button py-1.5 px-4 rounded-md flex items-center gap-2 transition-all duration-300 hover:shadow-[0_0_8px_2px_rgba(13,229,255,0.3)]\"\n          aria-label=\"连接钱包\"\n          title=\"连接区块链钱包\"\n        >\n          {isConnecting ? (\n            <div className=\"w-4 h-4 border-2 border-t-transparent border-white rounded-full animate-spin\"></div>\n          ) : (\n            <FaWallet className=\"w-4 h-4\" />\n          )}\n          <span>{isConnecting ? '连接中...' : '连接钱包'}</span>\n        </button>\n      ) : (\n        <div className=\"flex items-center gap-2\">\n          <div\n            className={`flex items-center bg-gray-800 rounded-md py-1.5 px-3 border transition-all duration-300 ${\n              isHovered\n                ? 'border-[#0de5ff]/70 shadow-[0_0_8px_1px_rgba(13,229,255,0.2)]'\n                : 'border-gray-700'\n            }`}\n            onMouseEnter={handleMouseEnter}\n            onMouseLeave={handleMouseLeave}\n            title={`${wallet.address} (${networkName})`}\n          >\n            <div className=\"w-2 h-2 rounded-full bg-green-400 mr-2 animate-pulse\"></div>\n            <span className=\"text-sm font-medium\">\n              {formatAddress(wallet.address!)}\n            </span>\n          </div>\n          <button\n            onClick={disconnectWallet}\n            className=\"text-gray-400 hover:text-white p-1.5 rounded-md transition-colors hover:bg-gray-800\"\n            title=\"断开连接\"\n            aria-label=\"断开钱包连接\"\n          >\n            <IoExitOutline className=\"w-5 h-5\" />\n          </button>\n        </div>\n      )}\n\n      {/* 钱包选择模态框 */}\n      <WalletSelectModal isOpen={isModalOpen} onClose={handleCloseModal} />\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]}