{"version":3,"names":["_default","cov_15wuh7wri4","s","useBlockchainConnection","f","status","setStatus","_react","useState","account","setAccount","chainId","setChainId","connect","Promise","resolve","setTimeout","error","console","disconnect","VaultPage","handleConnectClick","b","getConnectionStatusUI","text","buttonText","icon","_jsxruntime","jsx","_fa","FaEthereum","className","buttonClass","FaExclamationTriangle","FaWallet","statusUI","jsxs","substring","length","onClick","_TokenVault","default"],"sources":["/Users/yudeyou/Desktop/sm/sociomint/src/pages/VaultPage.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport TokenVault from '../components/vault/TokenVault';\nimport { FaEthereum, FaWallet, FaExclamationTriangle } from 'react-icons/fa';\n\n// 简化的区块链连接状态类型\ntype ConnectionStatus = 'disconnected' | 'connecting' | 'connected' | 'error';\n\n// 模拟区块链连接钩子\nconst useBlockchainConnection = () => {\n  const [status, setStatus] = useState<ConnectionStatus>('disconnected');\n  const [account, setAccount] = useState<string | null>(null);\n  const [chainId, setChainId] = useState<number | null>(null);\n\n  // 模拟连接钱包函数\n  const connect = async () => {\n    try {\n      setStatus('connecting');\n\n      // 模拟连接延迟\n      await new Promise((resolve) => setTimeout(resolve, 1500));\n\n      // 模拟成功连接\n      setStatus('connected');\n      setAccount('0x1a2b3c4d5e6f7g8h9i0j1k2l3m4n5o6p7q8r9s0t');\n      setChainId(1); // 假设是以太坊主网\n    } catch (error) {\n      console.error('连接钱包失败:', error);\n      setStatus('error');\n    }\n  };\n\n  // 断开连接\n  const disconnect = () => {\n    setStatus('disconnected');\n    setAccount(null);\n    setChainId(null);\n  };\n\n  return { status, account, chainId, connect, disconnect };\n};\n\n// 钱库页面组件\nconst VaultPage = () => {\n  const { status, account, chainId, connect, disconnect } =\n    useBlockchainConnection();\n\n  // 处理连接按钮点击\n  const handleConnectClick = () => {\n    if (status === 'connected') {\n      disconnect();\n    } else if (status === 'disconnected' || status === 'error') {\n      connect();\n    }\n  };\n\n  // 获取连接状态样式和文本\n  const getConnectionStatusUI = () => {\n    switch (status) {\n      case 'connected':\n        return {\n          text: '已连接',\n          buttonText: '断开连接',\n          icon: <FaEthereum className=\"mr-2\" />,\n          buttonClass: 'bg-green-600 hover:bg-green-700',\n        };\n      case 'connecting':\n        return {\n          text: '连接中...',\n          buttonText: '连接中',\n          icon: (\n            <div className=\"w-4 h-4 border-2 border-t-transparent border-white rounded-full animate-spin mr-2\"></div>\n          ),\n          buttonClass: 'bg-yellow-600 hover:bg-yellow-700 cursor-wait',\n        };\n      case 'error':\n        return {\n          text: '连接失败',\n          buttonText: '重试连接',\n          icon: <FaExclamationTriangle className=\"mr-2\" />,\n          buttonClass: 'bg-red-600 hover:bg-red-700',\n        };\n      default:\n        return {\n          text: '未连接',\n          buttonText: '连接钱包',\n          icon: <FaWallet className=\"mr-2\" />,\n          buttonClass: 'bg-primary hover:bg-primary/90',\n        };\n    }\n  };\n\n  const statusUI = getConnectionStatusUI();\n\n  return (\n    <div className=\"container mx-auto px-4 py-6\">\n      <div className=\"mb-6 flex justify-between items-center\">\n        <h1 className=\"text-2xl font-bold\">钱库系统</h1>\n\n        <div className=\"flex items-center\">\n          {status === 'connected' && (\n            <div className=\"mr-4 text-sm\">\n              <span className=\"text-gray-400\">账户: </span>\n              <span className=\"font-mono\">\n                {account?.substring(0, 6)}...\n                {account?.substring(account.length - 4)}\n              </span>\n            </div>\n          )}\n\n          <button\n            onClick={handleConnectClick}\n            className={`py-2 px-4 rounded-md text-white flex items-center ${statusUI.buttonClass}`}\n          >\n            {statusUI.icon}\n            {statusUI.buttonText}\n          </button>\n        </div>\n      </div>\n\n      {status === 'connected' ? (\n        <TokenVault />\n      ) : (\n        <div className=\"tech-card p-10 text-center\">\n          <div className=\"flex flex-col items-center justify-center py-10\">\n            <FaWallet className=\"text-5xl text-primary mb-4\" />\n            <h2 className=\"text-xl font-medium mb-2\">\n              请连接钱包以访问钱库系统\n            </h2>\n            <p className=\"text-gray-400 mb-6 max-w-lg\">\n              钱库系统需要连接区块链钱包才能进行操作。请点击上方的&quot;连接钱包&quot;按钮来访问完整功能。\n            </p>\n            <button\n              onClick={connect}\n              className=\"py-2 px-6 bg-primary text-white rounded-md flex items-center\"\n            >\n              <FaWallet className=\"mr-2\" />\n              连接钱包\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default VaultPage;\n"],"mappings":"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","ignoreList":[]}