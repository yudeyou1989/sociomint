0112ae44f7f97a7d2e8b93d7738945c8
'use client';
"use strict";

/* istanbul ignore next */
function cov_1ohinu3war() {
  var path = "/Users/yudeyou/Desktop/sm/sociomint/src/providers/BlockchainMonitorProvider.tsx";
  var hash = "7356663b716afc3994e2d8367bc1610ec55b0adc";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/yudeyou/Desktop/sm/sociomint/src/providers/BlockchainMonitorProvider.tsx",
    statementMap: {
      "0": {
        start: {
          line: 3,
          column: 0
        },
        end: {
          line: 5,
          column: 3
        }
      },
      "1": {
        start: {
          line: 6,
          column: 0
        },
        end: {
          line: 11,
          column: 3
        }
      },
      "2": {
        start: {
          line: 9,
          column: 8
        },
        end: {
          line: 9,
          column: 24
        }
      },
      "3": {
        start: {
          line: 12,
          column: 20
        },
        end: {
          line: 12,
          column: 48
        }
      },
      "4": {
        start: {
          line: 13,
          column: 15
        },
        end: {
          line: 13,
          column: 31
        }
      },
      "5": {
        start: {
          line: 14,
          column: 41
        },
        end: {
          line: 14,
          column: 107
        }
      },
      "6": {
        start: {
          line: 15,
          column: 30
        },
        end: {
          line: 15,
          column: 85
        }
      },
      "7": {
        start: {
          line: 17,
          column: 4
        },
        end: {
          line: 19,
          column: 6
        }
      },
      "8": {
        start: {
          line: 22,
          column: 15
        },
        end: {
          line: 24,
          column: 2
        }
      },
      "9": {
        start: {
          line: 29,
          column: 38
        },
        end: {
          line: 71,
          column: 1
        }
      },
      "10": {
        start: {
          line: 30,
          column: 4
        },
        end: {
          line: 67,
          column: 7
        }
      },
      "11": {
        start: {
          line: 31,
          column: 8
        },
        end: {
          line: 34,
          column: 9
        }
      },
      "12": {
        start: {
          line: 32,
          column: 12
        },
        end: {
          line: 32,
          column: 58
        }
      },
      "13": {
        start: {
          line: 33,
          column: 12
        },
        end: {
          line: 33,
          column: 19
        }
      },
      "14": {
        start: {
          line: 37,
          column: 32
        },
        end: {
          line: 53,
          column: 9
        }
      },
      "15": {
        start: {
          line: 38,
          column: 12
        },
        end: {
          line: 52,
          column: 13
        }
      },
      "16": {
        start: {
          line: 39,
          column: 16
        },
        end: {
          line: 39,
          column: 64
        }
      },
      "17": {
        start: {
          line: 41,
          column: 16
        },
        end: {
          line: 41,
          column: 85
        }
      },
      "18": {
        start: {
          line: 43,
          column: 16
        },
        end: {
          line: 43,
          column: 91
        }
      },
      "19": {
        start: {
          line: 44,
          column: 16
        },
        end: {
          line: 44,
          column: 78
        }
      },
      "20": {
        start: {
          line: 46,
          column: 16
        },
        end: {
          line: 51,
          column: 19
        }
      },
      "21": {
        start: {
          line: 54,
          column: 8
        },
        end: {
          line: 54,
          column: 26
        }
      },
      "22": {
        start: {
          line: 56,
          column: 8
        },
        end: {
          line: 64,
          column: 10
        }
      },
      "23": {
        start: {
          line: 57,
          column: 12
        },
        end: {
          line: 57,
          column: 61
        }
      },
      "24": {
        start: {
          line: 58,
          column: 12
        },
        end: {
          line: 60,
          column: 13
        }
      },
      "25": {
        start: {
          line: 59,
          column: 16
        },
        end: {
          line: 59,
          column: 31
        }
      },
      "26": {
        start: {
          line: 61,
          column: 12
        },
        end: {
          line: 63,
          column: 13
        }
      },
      "27": {
        start: {
          line: 62,
          column: 16
        },
        end: {
          line: 62,
          column: 34
        }
      },
      "28": {
        start: {
          line: 68,
          column: 4
        },
        end: {
          line: 70,
          column: 7
        }
      },
      "29": {
        start: {
          line: 72,
          column: 17
        },
        end: {
          line: 72,
          column: 42
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 8,
            column: 9
          },
          end: {
            line: 8,
            column: 10
          }
        },
        loc: {
          start: {
            line: 8,
            column: 20
          },
          end: {
            line: 10,
            column: 5
          }
        },
        line: 8
      },
      "1": {
        name: "_interop_require_default",
        decl: {
          start: {
            line: 16,
            column: 9
          },
          end: {
            line: 16,
            column: 33
          }
        },
        loc: {
          start: {
            line: 16,
            column: 39
          },
          end: {
            line: 20,
            column: 1
          }
        },
        line: 16
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 29,
            column: 38
          },
          end: {
            line: 29,
            column: 39
          }
        },
        loc: {
          start: {
            line: 29,
            column: 79
          },
          end: {
            line: 71,
            column: 1
          }
        },
        line: 29
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 30,
            column: 26
          },
          end: {
            line: 30,
            column: 27
          }
        },
        loc: {
          start: {
            line: 30,
            column: 30
          },
          end: {
            line: 65,
            column: 5
          }
        },
        line: 30
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 37,
            column: 32
          },
          end: {
            line: 37,
            column: 33
          }
        },
        loc: {
          start: {
            line: 37,
            column: 42
          },
          end: {
            line: 53,
            column: 9
          }
        },
        line: 37
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 56,
            column: 15
          },
          end: {
            line: 56,
            column: 16
          }
        },
        loc: {
          start: {
            line: 56,
            column: 19
          },
          end: {
            line: 64,
            column: 9
          }
        },
        line: 56
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 17,
            column: 11
          },
          end: {
            line: 19,
            column: 5
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 17,
            column: 35
          },
          end: {
            line: 17,
            column: 38
          }
        }, {
          start: {
            line: 17,
            column: 41
          },
          end: {
            line: 19,
            column: 5
          }
        }],
        line: 17
      },
      "1": {
        loc: {
          start: {
            line: 17,
            column: 11
          },
          end: {
            line: 17,
            column: 32
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 17,
            column: 11
          },
          end: {
            line: 17,
            column: 14
          }
        }, {
          start: {
            line: 17,
            column: 18
          },
          end: {
            line: 17,
            column: 32
          }
        }],
        line: 17
      },
      "2": {
        loc: {
          start: {
            line: 29,
            column: 51
          },
          end: {
            line: 29,
            column: 74
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 29,
            column: 70
          },
          end: {
            line: 29,
            column: 74
          }
        }],
        line: 29
      },
      "3": {
        loc: {
          start: {
            line: 31,
            column: 8
          },
          end: {
            line: 34,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 31,
            column: 8
          },
          end: {
            line: 34,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 31
      },
      "4": {
        loc: {
          start: {
            line: 58,
            column: 12
          },
          end: {
            line: 60,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 58,
            column: 12
          },
          end: {
            line: 60,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 58
      },
      "5": {
        loc: {
          start: {
            line: 61,
            column: 12
          },
          end: {
            line: 63,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 61,
            column: 12
          },
          end: {
            line: 63,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 61
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["/Users/yudeyou/Desktop/sm/sociomint/src/providers/BlockchainMonitorProvider.tsx"],
      sourcesContent: ["'use client';\n\nimport { ReactNode, useEffect } from 'react';\nimport BlockchainMonitor from '@/services/blockchainMonitor';\nimport Logger from '@/services/logger';\n\ninterface BlockchainMonitorProviderProps {\n  children: ReactNode;\n  enableMonitoring?: boolean;\n}\n\n// \u521B\u5EFA\u65E5\u5FD7\u8BB0\u5F55\u5668\nconst logger = Logger.createContextLogger({ component: 'BlockchainMonitorProvider' });\n\n/**\n * \u533A\u5757\u94FE\u76D1\u63A7\u63D0\u4F9B\u8005\u7EC4\u4EF6\n * \n * \u521D\u59CB\u5316\u533A\u5757\u94FE\u4E8B\u4EF6\u76D1\u63A7\u5E76\u63D0\u4F9B\u76D1\u63A7\u4E0A\u4E0B\u6587\n */\nconst BlockchainMonitorProvider = ({ \n  children, \n  enableMonitoring = true \n}: BlockchainMonitorProviderProps) => {\n  useEffect(() => {\n    if (!enableMonitoring) {\n      logger.info('Blockchain monitoring disabled');\n      return;\n    }\n\n    let tokenUnwatch: (() => void) | undefined;\n    let exchangeUnwatch: (() => void) | undefined;\n\n    const setupMonitoring = async () => {\n      try {\n        logger.info('Setting up blockchain monitoring');\n        \n        // \u76D1\u63A7\u4EE3\u5E01\u5408\u7EA6\u4E8B\u4EF6\n        tokenUnwatch = await BlockchainMonitor.monitorTokenEvents();\n        \n        // \u76D1\u63A7\u4EA4\u6362\u5408\u7EA6\u4E8B\u4EF6\n        exchangeUnwatch = await BlockchainMonitor.monitorExchangeEvents();\n        \n        logger.info('Blockchain monitoring initialized successfully');\n      } catch (error) {\n        logger.error('Failed to initialize blockchain monitoring', {\n          action: 'setupMonitoring',\n          additionalData: { error },\n        });\n      }\n    };\n\n    setupMonitoring();\n\n    // \u6E05\u7406\u51FD\u6570\n    return () => {\n      logger.info('Cleaning up blockchain monitoring');\n      \n      if (tokenUnwatch) {\n        tokenUnwatch();\n      }\n      \n      if (exchangeUnwatch) {\n        exchangeUnwatch();\n      }\n    };\n  }, [enableMonitoring]);\n\n  return <>{children}</>;\n};\n\nexport default BlockchainMonitorProvider;\n"],
      names: ["logger", "Logger", "createContextLogger", "component", "BlockchainMonitorProvider", "children", "enableMonitoring", "useEffect", "info", "tokenUnwatch", "exchangeUnwatch", "setupMonitoring", "BlockchainMonitor", "monitorTokenEvents", "monitorExchangeEvents", "error", "action", "additionalData"],
      mappings: "AAAA;;;;;+BAsEA;;;eAAA;;;;uBApEqC;0EACP;+DACX;;;;;;AAOnB,UAAU;AACV,MAAMA,SAASC,eAAM,CAACC,mBAAmB,CAAC;IAAEC,WAAW;AAA4B;AAEnF;;;;CAIC,GACD,MAAMC,4BAA4B,CAAC,EACjCC,QAAQ,EACRC,mBAAmB,IAAI,EACQ;IAC/BC,IAAAA,gBAAS,EAAC;QACR,IAAI,CAACD,kBAAkB;YACrBN,OAAOQ,IAAI,CAAC;YACZ;QACF;QAEA,IAAIC;QACJ,IAAIC;QAEJ,MAAMC,kBAAkB;YACtB,IAAI;gBACFX,OAAOQ,IAAI,CAAC;gBAEZ,WAAW;gBACXC,eAAe,MAAMG,0BAAiB,CAACC,kBAAkB;gBAEzD,WAAW;gBACXH,kBAAkB,MAAME,0BAAiB,CAACE,qBAAqB;gBAE/Dd,OAAOQ,IAAI,CAAC;YACd,EAAE,OAAOO,OAAO;gBACdf,OAAOe,KAAK,CAAC,8CAA8C;oBACzDC,QAAQ;oBACRC,gBAAgB;wBAAEF;oBAAM;gBAC1B;YACF;QACF;QAEAJ;QAEA,OAAO;QACP,OAAO;YACLX,OAAOQ,IAAI,CAAC;YAEZ,IAAIC,cAAc;gBAChBA;YACF;YAEA,IAAIC,iBAAiB;gBACnBA;YACF;QACF;IACF,GAAG;QAACJ;KAAiB;IAErB,qBAAO;kBAAGD;;AACZ;MAEA,WAAeD"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "7356663b716afc3994e2d8367bc1610ec55b0adc"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1ohinu3war = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1ohinu3war();
cov_1ohinu3war().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_1ohinu3war().s[1]++;
Object.defineProperty(exports, "default", {
  enumerable: true,
  get: function () {
    /* istanbul ignore next */
    cov_1ohinu3war().f[0]++;
    cov_1ohinu3war().s[2]++;
    return _default;
  }
});
const _jsxruntime =
/* istanbul ignore next */
(cov_1ohinu3war().s[3]++, require("react/jsx-runtime"));
const _react =
/* istanbul ignore next */
(cov_1ohinu3war().s[4]++, require("react"));
const _blockchainMonitor =
/* istanbul ignore next */
(/*#__PURE__*/cov_1ohinu3war().s[5]++, _interop_require_default(require("../services/blockchainMonitor")));
const _logger =
/* istanbul ignore next */
(/*#__PURE__*/cov_1ohinu3war().s[6]++, _interop_require_default(require("../services/logger")));
function _interop_require_default(obj) {
  /* istanbul ignore next */
  cov_1ohinu3war().f[1]++;
  cov_1ohinu3war().s[7]++;
  return /* istanbul ignore next */(cov_1ohinu3war().b[1][0]++, obj) &&
  /* istanbul ignore next */
  (cov_1ohinu3war().b[1][1]++, obj.__esModule) ?
  /* istanbul ignore next */
  (cov_1ohinu3war().b[0][0]++, obj) :
  /* istanbul ignore next */
  (cov_1ohinu3war().b[0][1]++, {
    default: obj
  });
}
// 创建日志记录器
const logger =
/* istanbul ignore next */
(cov_1ohinu3war().s[8]++, _logger.default.createContextLogger({
  component: 'BlockchainMonitorProvider'
}));
/**
 * 区块链监控提供者组件
 * 
 * 初始化区块链事件监控并提供监控上下文
 */
/* istanbul ignore next */
cov_1ohinu3war().s[9]++;
const BlockchainMonitorProvider = ({
  children,
  enableMonitoring =
  /* istanbul ignore next */
  (cov_1ohinu3war().b[2][0]++, true)
}) => {
  /* istanbul ignore next */
  cov_1ohinu3war().f[2]++;
  cov_1ohinu3war().s[10]++;
  (0, _react.useEffect)(() => {
    /* istanbul ignore next */
    cov_1ohinu3war().f[3]++;
    cov_1ohinu3war().s[11]++;
    if (!enableMonitoring) {
      /* istanbul ignore next */
      cov_1ohinu3war().b[3][0]++;
      cov_1ohinu3war().s[12]++;
      logger.info('Blockchain monitoring disabled');
      /* istanbul ignore next */
      cov_1ohinu3war().s[13]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_1ohinu3war().b[3][1]++;
    }
    let tokenUnwatch;
    let exchangeUnwatch;
    /* istanbul ignore next */
    cov_1ohinu3war().s[14]++;
    const setupMonitoring = async () => {
      /* istanbul ignore next */
      cov_1ohinu3war().f[4]++;
      cov_1ohinu3war().s[15]++;
      try {
        /* istanbul ignore next */
        cov_1ohinu3war().s[16]++;
        logger.info('Setting up blockchain monitoring');
        // 监控代币合约事件
        /* istanbul ignore next */
        cov_1ohinu3war().s[17]++;
        tokenUnwatch = await _blockchainMonitor.default.monitorTokenEvents();
        // 监控交换合约事件
        /* istanbul ignore next */
        cov_1ohinu3war().s[18]++;
        exchangeUnwatch = await _blockchainMonitor.default.monitorExchangeEvents();
        /* istanbul ignore next */
        cov_1ohinu3war().s[19]++;
        logger.info('Blockchain monitoring initialized successfully');
      } catch (error) {
        /* istanbul ignore next */
        cov_1ohinu3war().s[20]++;
        logger.error('Failed to initialize blockchain monitoring', {
          action: 'setupMonitoring',
          additionalData: {
            error
          }
        });
      }
    };
    /* istanbul ignore next */
    cov_1ohinu3war().s[21]++;
    setupMonitoring();
    // 清理函数
    /* istanbul ignore next */
    cov_1ohinu3war().s[22]++;
    return () => {
      /* istanbul ignore next */
      cov_1ohinu3war().f[5]++;
      cov_1ohinu3war().s[23]++;
      logger.info('Cleaning up blockchain monitoring');
      /* istanbul ignore next */
      cov_1ohinu3war().s[24]++;
      if (tokenUnwatch) {
        /* istanbul ignore next */
        cov_1ohinu3war().b[4][0]++;
        cov_1ohinu3war().s[25]++;
        tokenUnwatch();
      } else
      /* istanbul ignore next */
      {
        cov_1ohinu3war().b[4][1]++;
      }
      cov_1ohinu3war().s[26]++;
      if (exchangeUnwatch) {
        /* istanbul ignore next */
        cov_1ohinu3war().b[5][0]++;
        cov_1ohinu3war().s[27]++;
        exchangeUnwatch();
      } else
      /* istanbul ignore next */
      {
        cov_1ohinu3war().b[5][1]++;
      }
    };
  }, [enableMonitoring]);
  /* istanbul ignore next */
  cov_1ohinu3war().s[28]++;
  return /*#__PURE__*/(0, _jsxruntime.jsx)(_jsxruntime.Fragment, {
    children: children
  });
};
const _default =
/* istanbul ignore next */
(cov_1ohinu3war().s[29]++, BlockchainMonitorProvider);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZGVmYXVsdCIsImxvZ2dlciIsImNvdl8xb2hpbnUzd2FyIiwicyIsIl9sb2dnZXIiLCJkZWZhdWx0IiwiY3JlYXRlQ29udGV4dExvZ2dlciIsImNvbXBvbmVudCIsIkJsb2NrY2hhaW5Nb25pdG9yUHJvdmlkZXIiLCJjaGlsZHJlbiIsImVuYWJsZU1vbml0b3JpbmciLCJiIiwiZiIsIl9yZWFjdCIsInVzZUVmZmVjdCIsImluZm8iLCJ0b2tlblVud2F0Y2giLCJleGNoYW5nZVVud2F0Y2giLCJzZXR1cE1vbml0b3JpbmciLCJfYmxvY2tjaGFpbk1vbml0b3IiLCJtb25pdG9yVG9rZW5FdmVudHMiLCJtb25pdG9yRXhjaGFuZ2VFdmVudHMiLCJlcnJvciIsImFjdGlvbiIsImFkZGl0aW9uYWxEYXRhIiwiX2pzeHJ1bnRpbWUiLCJqc3giLCJGcmFnbWVudCJdLCJzb3VyY2VzIjpbIi9Vc2Vycy95dWRleW91L0Rlc2t0b3Avc20vc29jaW9taW50L3NyYy9wcm92aWRlcnMvQmxvY2tjaGFpbk1vbml0b3JQcm92aWRlci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyBSZWFjdE5vZGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBCbG9ja2NoYWluTW9uaXRvciBmcm9tICdAL3NlcnZpY2VzL2Jsb2NrY2hhaW5Nb25pdG9yJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnQC9zZXJ2aWNlcy9sb2dnZXInO1xuXG5pbnRlcmZhY2UgQmxvY2tjaGFpbk1vbml0b3JQcm92aWRlclByb3BzIHtcbiAgY2hpbGRyZW46IFJlYWN0Tm9kZTtcbiAgZW5hYmxlTW9uaXRvcmluZz86IGJvb2xlYW47XG59XG5cbi8vIOWIm+W7uuaXpeW/l+iusOW9leWZqFxuY29uc3QgbG9nZ2VyID0gTG9nZ2VyLmNyZWF0ZUNvbnRleHRMb2dnZXIoeyBjb21wb25lbnQ6ICdCbG9ja2NoYWluTW9uaXRvclByb3ZpZGVyJyB9KTtcblxuLyoqXG4gKiDljLrlnZfpk77nm5Hmjqfmj5DkvpvogIXnu4Tku7ZcbiAqIFxuICog5Yid5aeL5YyW5Yy65Z2X6ZO+5LqL5Lu255uR5o6n5bm25o+Q5L6b55uR5o6n5LiK5LiL5paHXG4gKi9cbmNvbnN0IEJsb2NrY2hhaW5Nb25pdG9yUHJvdmlkZXIgPSAoeyBcbiAgY2hpbGRyZW4sIFxuICBlbmFibGVNb25pdG9yaW5nID0gdHJ1ZSBcbn06IEJsb2NrY2hhaW5Nb25pdG9yUHJvdmlkZXJQcm9wcykgPT4ge1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghZW5hYmxlTW9uaXRvcmluZykge1xuICAgICAgbG9nZ2VyLmluZm8oJ0Jsb2NrY2hhaW4gbW9uaXRvcmluZyBkaXNhYmxlZCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCB0b2tlblVud2F0Y2g6ICgoKSA9PiB2b2lkKSB8IHVuZGVmaW5lZDtcbiAgICBsZXQgZXhjaGFuZ2VVbndhdGNoOiAoKCkgPT4gdm9pZCkgfCB1bmRlZmluZWQ7XG5cbiAgICBjb25zdCBzZXR1cE1vbml0b3JpbmcgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBsb2dnZXIuaW5mbygnU2V0dGluZyB1cCBibG9ja2NoYWluIG1vbml0b3JpbmcnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIOebkeaOp+S7o+W4geWQiOe6puS6i+S7tlxuICAgICAgICB0b2tlblVud2F0Y2ggPSBhd2FpdCBCbG9ja2NoYWluTW9uaXRvci5tb25pdG9yVG9rZW5FdmVudHMoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIOebkeaOp+S6pOaNouWQiOe6puS6i+S7tlxuICAgICAgICBleGNoYW5nZVVud2F0Y2ggPSBhd2FpdCBCbG9ja2NoYWluTW9uaXRvci5tb25pdG9yRXhjaGFuZ2VFdmVudHMoKTtcbiAgICAgICAgXG4gICAgICAgIGxvZ2dlci5pbmZvKCdCbG9ja2NoYWluIG1vbml0b3JpbmcgaW5pdGlhbGl6ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBsb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBpbml0aWFsaXplIGJsb2NrY2hhaW4gbW9uaXRvcmluZycsIHtcbiAgICAgICAgICBhY3Rpb246ICdzZXR1cE1vbml0b3JpbmcnLFxuICAgICAgICAgIGFkZGl0aW9uYWxEYXRhOiB7IGVycm9yIH0sXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBzZXR1cE1vbml0b3JpbmcoKTtcblxuICAgIC8vIOa4heeQhuWHveaVsFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBsb2dnZXIuaW5mbygnQ2xlYW5pbmcgdXAgYmxvY2tjaGFpbiBtb25pdG9yaW5nJyk7XG4gICAgICBcbiAgICAgIGlmICh0b2tlblVud2F0Y2gpIHtcbiAgICAgICAgdG9rZW5VbndhdGNoKCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChleGNoYW5nZVVud2F0Y2gpIHtcbiAgICAgICAgZXhjaGFuZ2VVbndhdGNoKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2VuYWJsZU1vbml0b3JpbmddKTtcblxuICByZXR1cm4gPD57Y2hpbGRyZW59PC8+O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQmxvY2tjaGFpbk1vbml0b3JQcm92aWRlcjtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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