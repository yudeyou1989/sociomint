{"version":3,"names":["PresaleDashboard","cov_8rw45891u","s","Button","children","onClick","disabled","className","b","variant","size","f","baseClass","sizeClass","variantClass","_jsxruntime","jsx","Progress","value","style","width","Alert","AlertTitle","AlertDescription","t","_reacti18next","useTranslation","wallet","_WalletContext","useWallet","typedWallet","isConnected","contractData","_usePresaleContracts","usePresaleContract","purchaseTokens","isLoading","presaleEnded","defaultBigInt","BigInt","safeCurrentPrice","currentPrice","safeSoldTokens","soldTokens","safeTotalPresaleTokens","totalPresaleTokens","safeMinPurchaseAmount","minPurchaseAmount","safeMaxPurchaseAmount","maxPurchaseAmount","safeUserPurchase","userPurchase","inputAmount","setInputAmount","_react","useState","outputAmount","setOutputAmount","isProcessing","setIsProcessing","exchangeRate","setExchangeRate","presaleProgress","setPresaleProgress","transactionError","setTransactionError","transactionSuccess","setTransactionSuccess","useEffect","rate","Number","_viem","formatEther","toLocaleString","isNaN","bnbAmount","smAmount","error","console","sold","total","progress","Math","min","handleInputChange","e","target","test","handleMaxAmount","balance","bnb","maxBnb","max","toString","handleConnectWallet","connect","handlePurchase","parseEther","Error","updateBalances","setTimeout","message","String","safeFormatEther","getArrayItemSafely","arr","index","Array","isArray","length","jsxs","toFixed","_XPlatformVerification","default","type","onChange","placeholder","_FaArrowDown"],"sources":["/Users/yudeyou/Desktop/sm/sociomint/src/components/presale/PresaleDashboard.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, ReactNode, ChangeEvent } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { parseEther, formatEther } from 'viem';\nimport { FaArrowDown } from 'react-icons/fa';\nimport XPlatformVerification from './XPlatformVerification';\nimport { usePresaleContract } from '../../hooks/contracts/usePresaleContracts';\nimport { useWallet } from '../../contexts/WalletContext';\n\n// 添加Wallet类型定义\ninterface WalletType {\n  isConnected?: boolean;\n  address?: string;\n  balance?: {\n    bnb: number;\n    sm?: number;\n  };\n  connect?: () => void;\n  updateBalances?: () => Promise<void>;\n}\n\n// 添加合约数据类型\ninterface PresaleContractData {\n  purchaseTokens: (amount: bigint) => Promise<void>;\n  isLoading: boolean;\n  presaleEnded?: boolean;\n  currentPrice?: bigint;\n  soldTokens?: bigint;\n  totalPresaleTokens?: bigint;\n  minPurchaseAmount?: bigint;\n  maxPurchaseAmount?: bigint;\n  userPurchase?: bigint[];\n}\n\n// 添加UI组件接口定义\ninterface ButtonProps {\n  children: ReactNode;\n  onClick?: () => void;\n  disabled?: boolean;\n  className?: string;\n  variant?: 'default' | 'outline';\n  size?: 'md' | 'lg';\n}\n\n// 简化UI组件实现，避免依赖外部库\nconst Button = ({ \n  children, \n  onClick, \n  disabled, \n  className = \"\", \n  variant = \"default\", \n  size = \"md\" \n}: ButtonProps) => {\n  const baseClass = \"rounded-md font-medium transition-colors\";\n  const sizeClass = size === \"lg\" ? \"py-3 px-6 text-lg\" : \"py-2 px-4\";\n  const variantClass = variant === \"default\" ? \"bg-primary hover:bg-primary/90 text-white\" : \"border border-gray-600 hover:bg-gray-800 text-white\";\n  \n  return (\n    <button \n      className={`${baseClass} ${sizeClass} ${variantClass} ${disabled ? 'opacity-50 cursor-not-allowed' : ''} ${className}`}\n      onClick={onClick}\n      disabled={disabled}\n    >\n      {children}\n    </button>\n  );\n};\n\ninterface ProgressProps {\n  value: number;\n  className?: string;\n}\n\nconst Progress = ({ value, className = \"\" }: ProgressProps) => {\n  return (\n    <div className={`w-full bg-gray-800 rounded-full ${className}`}>\n      <div \n        className=\"bg-primary rounded-full h-full transition-all duration-500\"\n        style={{ width: `${value}%` }}\n      ></div>\n    </div>\n  );\n};\n\ninterface AlertProps {\n  children: ReactNode;\n  variant?: 'default' | 'destructive' | 'success';\n  className?: string;\n}\n\nconst Alert = ({ children, variant = \"default\", className = \"\" }: AlertProps) => {\n  const variantClass = variant === \"destructive\" \n    ? \"bg-red-900/30 border-red-500 text-red-200\" \n    : variant === \"success\" \n      ? \"bg-green-900/30 border-green-500 text-green-200\" \n      : \"bg-gray-800 border-gray-700 text-gray-200\";\n  \n  return (\n    <div className={`border rounded-md p-4 ${variantClass} ${className}`}>\n      {children}\n    </div>\n  );\n};\n\ninterface AlertTitleProps {\n  children: ReactNode;\n}\n\nconst AlertTitle = ({ children }: AlertTitleProps) => (\n  <h5 className=\"font-bold mb-1\">{children}</h5>\n);\n\ninterface AlertDescriptionProps {\n  children: ReactNode;\n}\n\nconst AlertDescription = ({ children }: AlertDescriptionProps) => (\n  <div className=\"text-sm\">{children}</div>\n);\n\nexport default function PresaleDashboard() {\n  const { t } = useTranslation();\n  const { wallet } = useWallet();\n  const typedWallet = wallet as unknown as WalletType;\n  const isConnected = typedWallet?.isConnected || false;\n  \n  // 预售合约Hooks - 添加默认值解决类型问题\n  const contractData = usePresaleContract() as unknown as PresaleContractData;\n  \n  const { \n    purchaseTokens, \n    isLoading,\n    presaleEnded = false\n  } = contractData;\n\n  // 将BigInt字面量改为BigInt函数调用\n  const defaultBigInt = BigInt(0);\n  const safeCurrentPrice = contractData.currentPrice || defaultBigInt;\n  const safeSoldTokens = contractData.soldTokens || defaultBigInt;\n  const safeTotalPresaleTokens = contractData.totalPresaleTokens || defaultBigInt;\n  const safeMinPurchaseAmount = contractData.minPurchaseAmount || defaultBigInt;\n  const safeMaxPurchaseAmount = contractData.maxPurchaseAmount || defaultBigInt;\n  const safeUserPurchase = contractData.userPurchase || [defaultBigInt, defaultBigInt, defaultBigInt, false];\n\n  // 状态变量\n  const [inputAmount, setInputAmount] = useState('');\n  const [outputAmount, setOutputAmount] = useState('');\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [exchangeRate, setExchangeRate] = useState('0');\n  const [presaleProgress, setPresaleProgress] = useState(0);\n  const [transactionError, setTransactionError] = useState('');\n  const [transactionSuccess, setTransactionSuccess] = useState(false);\n\n  // 计算兑换率和输出金额\n  useEffect(() => {\n    if (safeCurrentPrice > defaultBigInt) {\n      try {\n        const rate = Number(formatEther(safeCurrentPrice));\n        setExchangeRate(rate.toLocaleString());\n        \n        // 计算用户将获得的SM代币数量\n        if (inputAmount && !isNaN(Number(inputAmount))) {\n          const bnbAmount = Number(inputAmount);\n          const smAmount = bnbAmount * rate;\n          setOutputAmount(smAmount.toLocaleString());\n        } else {\n          setOutputAmount('0');\n        }\n      } catch (error) {\n        console.error(\"计算兑换率错误:\", error);\n      }\n    }\n  }, [safeCurrentPrice, inputAmount, defaultBigInt]);\n\n  // 计算预售进度\n  useEffect(() => {\n    if (safeSoldTokens > defaultBigInt && safeTotalPresaleTokens > defaultBigInt) {\n      try {\n        const sold = Number(formatEther(safeSoldTokens));\n        const total = Number(formatEther(safeTotalPresaleTokens));\n        const progress = (sold / total) * 100;\n        setPresaleProgress(Math.min(progress, 100));\n      } catch (error) {\n        console.error(\"计算进度错误:\", error);\n      }\n    }\n  }, [safeSoldTokens, safeTotalPresaleTokens, defaultBigInt]);\n\n  // 处理输入金额变化\n  const handleInputChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    \n    if (value === '' || (/^\\d*\\.?\\d*$/.test(value) && !isNaN(Number(value)))) {\n      setInputAmount(value);\n    }\n  };\n\n  // 处理最大金额按钮\n  const handleMaxAmount = () => {\n    if (typedWallet?.isConnected && typedWallet?.balance && typedWallet.balance.bnb > 0) {\n      // 保留一点BNB用于支付gas费用\n      const maxBnb = Math.max(0, typedWallet.balance.bnb - 0.01);\n      setInputAmount(maxBnb.toString());\n    }\n  };\n\n  // 处理钱包连接\n  const handleConnectWallet = () => {\n    if (typedWallet && typeof typedWallet.connect === 'function') {\n      typedWallet.connect();\n    }\n  };\n\n  // 处理代币购买\n  const handlePurchase = async () => {\n    if (!isConnected) {\n      handleConnectWallet();\n      return;\n    }\n    \n    if (!inputAmount || Number(inputAmount) <= 0) {\n      setTransactionError(t('exchange.insufficientBalance'));\n      return;\n    }\n    \n    try {\n      setIsProcessing(true);\n      setTransactionError('');\n      \n      // 转换为Wei单位\n      const bnbAmount = parseEther(inputAmount);\n      \n      // 检查是否在购买范围内\n      if (safeMinPurchaseAmount > defaultBigInt && bnbAmount < safeMinPurchaseAmount) {\n        throw new Error(`${t('presale.minPurchase')}: ${formatEther(safeMinPurchaseAmount)} BNB`);\n      }\n      \n      if (safeMaxPurchaseAmount > defaultBigInt && bnbAmount > safeMaxPurchaseAmount) {\n        throw new Error(`${t('presale.maxPurchase')}: ${formatEther(safeMaxPurchaseAmount)} BNB`);\n      }\n      \n      // 调用合约购买函数\n      await purchaseTokens(bnbAmount);\n      \n      // 更新钱包余额\n      if (typedWallet && typeof typedWallet.updateBalances === 'function') {\n        await typedWallet.updateBalances();\n      }\n      \n      // 显示成功消息\n      setTransactionSuccess(true);\n      setInputAmount('');\n      setOutputAmount('0');\n      \n      // 5秒后隐藏成功消息\n      setTimeout(() => {\n        setTransactionSuccess(false);\n      }, 5000);\n    } catch (error) {\n      console.error('Purchase error:', error);\n      setTransactionError(error instanceof Error ? error.message : String(error));\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  const safeFormatEther = (value: unknown): string => {\n    try {\n      if (typeof value === 'bigint') {\n        return formatEther(value);\n      }\n    } catch (error) {\n      console.error(\"formatEther error:\", error);\n    }\n    return '0';\n  };\n\n  const getArrayItemSafely = (arr: unknown, index: number): bigint => {\n    if (Array.isArray(arr) && index < arr.length && typeof arr[index] === 'bigint') {\n      return arr[index] as bigint;\n    }\n    return defaultBigInt;\n  };\n\n  return (\n    <div className=\"max-w-4xl mx-auto\">\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        {/* 左侧：预售信息 */}\n        <div className=\"space-y-6\">\n          <div className=\"glass-card p-6\">\n            <h2 className=\"text-2xl font-bold mb-6\">{t('presale.title')}</h2>\n            \n            {/* 预售状态 */}\n            <div className=\"space-y-4 mb-6\">\n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-gray-300\">{t('presale.soldTokens')}</span>\n                <span className=\"font-medium\">\n                  {safeFormatEther(safeSoldTokens)} SM\n                </span>\n              </div>\n              \n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-gray-300\">{t('presale.totalSupply')}</span>\n                <span className=\"font-medium\">\n                  {safeFormatEther(safeTotalPresaleTokens)} SM\n                </span>\n              </div>\n              \n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-gray-300\">{t('presale.exchangeRate')}</span>\n                <span className=\"text-primary font-medium\">\n                  1 BNB = {exchangeRate} SM\n                </span>\n              </div>\n\n              <div className=\"space-y-2\">\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-gray-300\">{t('presale.progress')}</span>\n                  <span className=\"font-medium\">{presaleProgress.toFixed(2)}%</span>\n                </div>\n                <Progress value={presaleProgress} className=\"h-2\" />\n              </div>\n            </div>\n            \n            {/* 验证组件 */}\n            <XPlatformVerification />\n          </div>\n          \n          {/* 用户参与信息 */}\n          {isConnected && Array.isArray(safeUserPurchase) && safeUserPurchase.length > 0 && (\n            <div className=\"glass-card p-6\">\n              <h3 className=\"text-xl font-semibold mb-4\">{t('presale.purchaseTitle')}</h3>\n              <div className=\"space-y-3\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-300\">{t('exchange.bnbToSm')}</span>\n                  <span>{safeFormatEther(getArrayItemSafely(safeUserPurchase, 0))} BNB</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-300\">{t('presale.purchaseTitle')}</span>\n                  <span>{safeFormatEther(getArrayItemSafely(safeUserPurchase, 2))} SM</span>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n        \n        {/* 右侧：兑换模块 */}\n        <div className=\"glass-card p-6\">\n          <h2 className=\"text-2xl font-bold mb-6\">{t('exchange.bnbToSm')}</h2>\n\n          {/* 汇率显示 */}\n          <div className=\"flex items-center justify-between mb-6 p-3 bg-black/30 rounded-lg border border-gray-800\">\n            <div className=\"flex items-center gap-2\">\n              🔄\n              <span className=\"text-sm text-gray-300\">{t('exchange.currentRate')}</span>\n            </div>\n            <div className=\"font-medium\">\n              1 BNB = <span className=\"text-primary\">{exchangeRate}</span> SM\n            </div>\n          </div>\n\n          {/* 兑换表单 */}\n          <div className=\"space-y-4\">\n            {/* 输入框 - BNB */}\n            <div className=\"bg-black/40 p-4 rounded-lg border border-gray-800\">\n              <div className=\"flex justify-between mb-2\">\n                <label className=\"text-sm text-gray-400\">{t('exchange.from')}</label>\n                {typedWallet?.isConnected && typedWallet?.balance && (\n                  <div className=\"text-xs text-gray-400\">\n                    {t('exchange.balance')}: {typedWallet.balance.bnb.toFixed(4) || '0.0000'} BNB\n                    <button\n                      onClick={handleMaxAmount}\n                      className=\"ml-2 text-primary text-xs hover:underline\"\n                    >\n                      {t('exchange.max')}\n                    </button>\n                  </div>\n                )}\n              </div>\n\n              <div className=\"flex items-center\">\n                <input\n                  type=\"text\"\n                  value={inputAmount}\n                  onChange={handleInputChange}\n                  placeholder=\"0.0\"\n                  className=\"bg-transparent text-white text-xl w-full focus:outline-none\"\n                  disabled={isProcessing || !isConnected}\n                />\n                <div className=\"flex items-center gap-2 font-medium\">\n                  <div className=\"w-6 h-6 rounded-full bg-yellow-500 flex items-center justify-center text-xs font-bold text-black\">\n                    B\n                  </div>\n                  BNB\n                </div>\n              </div>\n            </div>\n\n            {/* 箭头 */}\n            <div className=\"flex justify-center\">\n              <div className=\"w-8 h-8 rounded-full bg-gray-800 flex items-center justify-center\">\n                <FaArrowDown className=\"text-primary\" />\n              </div>\n            </div>\n\n            {/* 输出框 - SM */}\n            <div className=\"bg-black/40 p-4 rounded-lg border border-gray-800\">\n              <div className=\"flex justify-between mb-2\">\n                <label className=\"text-sm text-gray-400\">{t('exchange.to')}</label>\n              </div>\n\n              <div className=\"flex items-center\">\n                <input\n                  type=\"text\"\n                  value={outputAmount}\n                  placeholder=\"0.0\"\n                  className=\"bg-transparent text-white text-xl w-full focus:outline-none\"\n                  disabled={true}\n                />\n                <div className=\"flex items-center gap-2 font-medium\">\n                  <div className=\"w-6 h-6 rounded-full bg-primary flex items-center justify-center text-xs font-bold text-black\">\n                    SM\n                  </div>\n                  SM\n                </div>\n              </div>\n            </div>\n\n            {/* 错误消息 */}\n            {transactionError && (\n              <Alert variant=\"destructive\" className=\"mt-4\">\n                <AlertTitle>{t('common.error')}</AlertTitle>\n                <AlertDescription>{transactionError}</AlertDescription>\n              </Alert>\n            )}\n\n            {/* 成功消息 */}\n            {transactionSuccess && (\n              <Alert variant=\"success\" className=\"mt-4\">\n                <AlertTitle>{t('common.success')}</AlertTitle>\n                <AlertDescription>{t('exchange.exchangeSuccess')}</AlertDescription>\n              </Alert>\n            )}\n\n            {/* 兑换按钮 */}\n            <Button\n              variant=\"default\"\n              size=\"lg\"\n              className=\"w-full mt-4 neon-button\"\n              disabled={isProcessing || !isConnected || !inputAmount || Number(inputAmount) <= 0}\n              onClick={handlePurchase}\n            >\n              {!isConnected \n                ? t('exchange.connectWalletRequired')\n                : isProcessing \n                  ? t('common.loading') \n                  : t('presale.purchaseButton')}\n            </Button>\n\n            <p className=\"text-xs text-gray-400 text-center mt-2\">\n              {t('exchange.gasRequired')}\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n} "],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BAyHA;;;;;;WAAwBA,gBAAA;;;;;;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","ignoreList":[]}