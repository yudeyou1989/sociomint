{"version":3,"names":["_default","cov_npis2gcwf","s","StabilizationConfig","f","triggerConditions","setTriggerConditions","_react","useState","id","mechanismType","priceThreshold","thresholdType","actionAmount","cooldownHours","isActive","getMechanismName","type","b","getActionDisplay","condition","toLocaleString","toString","toggleConditionStatus","conditions","map","editingId","setEditingId","editForm","setEditForm","startEditing","cancelEditing","updateEditForm","key","value","saveEditing","deleteCondition","confirm","filter","addNewCondition","newCondition","Date","now","substr","_jsxruntime","jsxs","className","jsx","_FaCog","default","onClick","_FaInfoCircle","length","_FaTimes","onChange","e","target","parseFloat","step","min","parseInt","checked","htmlFor","_FaSave","_FaExclamationTriangle"],"sources":["/Users/yudeyou/Desktop/sm/sociomint/src/components/vault/StabilizationConfig.tsx"],"sourcesContent":["import { useState } from 'react';\nimport {\n  FaCog,\n  FaExclamationTriangle,\n  FaInfoCircle,\n  FaSave,\n  FaTimes,\n} from 'react-icons/fa';\n\n// 稳定机制类型\ntype MechanismType = 'buyback' | 'dynamic-rate' | 'staking';\n\n// 触发条件类型\ninterface TriggerCondition {\n  id: string;\n  mechanismType: MechanismType;\n  priceThreshold: number;\n  thresholdType: 'above' | 'below';\n  actionAmount: number;\n  cooldownHours: number;\n  isActive: boolean;\n}\n\n// 稳定机制配置组件\nconst StabilizationConfig = () => {\n  // 模拟触发条件数据\n  const [triggerConditions, setTriggerConditions] = useState<\n    TriggerCondition[]\n  >([\n    {\n      id: 'trigger-001',\n      mechanismType: 'buyback',\n      priceThreshold: 10.5,\n      thresholdType: 'below',\n      actionAmount: 50000,\n      cooldownHours: 24,\n      isActive: true,\n    },\n    {\n      id: 'trigger-002',\n      mechanismType: 'dynamic-rate',\n      priceThreshold: 14.5,\n      thresholdType: 'above',\n      actionAmount: 0.5, // 发行费率增加百分比\n      cooldownHours: 12,\n      isActive: true,\n    },\n    {\n      id: 'trigger-003',\n      mechanismType: 'staking',\n      priceThreshold: 11.0,\n      thresholdType: 'below',\n      actionAmount: 2.5, // 锁仓年化收益率\n      cooldownHours: 48,\n      isActive: false,\n    },\n  ]);\n\n  // 获取机制名称\n  const getMechanismName = (type: MechanismType): string => {\n    switch (type) {\n      case 'buyback':\n        return '自动回购';\n      case 'dynamic-rate':\n        return '动态发行费率';\n      case 'staking':\n        return '锁仓挖矿激励';\n      default:\n        return '未知机制';\n    }\n  };\n\n  // 获取操作数量显示文本\n  const getActionDisplay = (condition: TriggerCondition): string => {\n    switch (condition.mechanismType) {\n      case 'buyback':\n        return `${condition.actionAmount.toLocaleString()} SM`;\n      case 'dynamic-rate':\n        return `+${condition.actionAmount}%`;\n      case 'staking':\n        return `${condition.actionAmount}% APY`;\n      default:\n        return condition.actionAmount.toString();\n    }\n  };\n\n  // 切换触发条件状态\n  const toggleConditionStatus = (id: string) => {\n    setTriggerConditions((conditions) =>\n      conditions.map((condition) =>\n        condition.id === id\n          ? { ...condition, isActive: !condition.isActive }\n          : condition,\n      ),\n    );\n  };\n\n  // 编辑状态\n  const [editingId, setEditingId] = useState<string | null>(null);\n  const [editForm, setEditForm] = useState<TriggerCondition | null>(null);\n\n  // 开始编辑触发条件\n  const startEditing = (condition: TriggerCondition) => {\n    setEditingId(condition.id);\n    setEditForm({ ...condition });\n  };\n\n  // 取消编辑\n  const cancelEditing = () => {\n    setEditingId(null);\n    setEditForm(null);\n  };\n\n  // 更新编辑表单\n  const updateEditForm = (\n    key: keyof TriggerCondition,\n    value: number | string | boolean,\n  ) => {\n    if (!editForm) return;\n\n    setEditForm({\n      ...editForm,\n      [key]: value,\n    });\n  };\n\n  // 保存编辑\n  const saveEditing = () => {\n    if (!editForm) return;\n\n    setTriggerConditions((conditions) =>\n      conditions.map((condition) =>\n        condition.id === editForm.id ? editForm : condition,\n      ),\n    );\n\n    cancelEditing();\n  };\n\n  // 删除触发条件\n  const deleteCondition = (id: string) => {\n    if (confirm('确定要删除此触发条件吗？')) {\n      setTriggerConditions((conditions) =>\n        conditions.filter((condition) => condition.id !== id),\n      );\n\n      if (editingId === id) {\n        cancelEditing();\n      }\n    }\n  };\n\n  // 添加新的触发条件\n  const addNewCondition = () => {\n    const newCondition: TriggerCondition = {\n      id: `trigger-${Date.now().toString().substr(-6)}`,\n      mechanismType: 'buyback',\n      priceThreshold: 12.0,\n      thresholdType: 'below',\n      actionAmount: 10000,\n      cooldownHours: 24,\n      isActive: false,\n    };\n\n    setTriggerConditions([...triggerConditions, newCondition]);\n    startEditing(newCondition);\n  };\n\n  return (\n    <div className=\"bg-gray-800/30 border border-gray-700 rounded-md p-4\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h3 className=\"font-medium flex items-center\">\n          <FaCog className=\"mr-2 text-primary\" />\n          稳定机制触发条件配置\n        </h3>\n\n        <button\n          onClick={addNewCondition}\n          className=\"px-3 py-1 bg-primary text-white rounded-md text-sm\"\n        >\n          添加触发条件\n        </button>\n      </div>\n\n      <div className=\"mb-4 p-3 bg-blue-500/10 border border-blue-500/30 rounded-md flex items-start\">\n        <FaInfoCircle className=\"text-blue-400 mt-0.5 mr-2 flex-shrink-0\" />\n        <p className=\"text-sm text-gray-300\">\n          配置不同的价格触发条件，当通证价格达到设定阈值时，系统将自动执行相应的稳定机制。合理设置触发条件和冷却时间，可以有效维持通证价值稳定。\n        </p>\n      </div>\n\n      {triggerConditions.length === 0 ? (\n        <div className=\"text-center py-8 text-gray-400\">\n          暂无触发条件，请点击&quot;添加触发条件&quot;按钮创建。\n        </div>\n      ) : (\n        <div className=\"space-y-4\">\n          {triggerConditions.map((condition) => (\n            <div\n              key={condition.id}\n              className={`border rounded-md ${\n                editingId === condition.id\n                  ? 'border-primary bg-gray-800/50'\n                  : 'border-gray-700 bg-gray-800/30'\n              }`}\n            >\n              {editingId === condition.id && editForm ? (\n                // 编辑表单\n                <div className=\"p-4\">\n                  <div className=\"flex justify-between items-center mb-4\">\n                    <h4 className=\"font-medium\">编辑触发条件</h4>\n                    <button\n                      onClick={cancelEditing}\n                      className=\"text-gray-400 hover:text-white\"\n                    >\n                      <FaTimes />\n                    </button>\n                  </div>\n\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                    <div>\n                      <label className=\"block text-sm text-gray-400 mb-1\">\n                        机制类型\n                      </label>\n                      <select\n                        value={editForm.mechanismType}\n                        onChange={(e) =>\n                          updateEditForm(\n                            'mechanismType',\n                            e.target.value as MechanismType,\n                          )\n                        }\n                        className=\"w-full bg-gray-900 border border-gray-700 rounded-md p-2 text-white\"\n                      >\n                        <option value=\"buyback\">自动回购</option>\n                        <option value=\"dynamic-rate\">动态发行费率</option>\n                        <option value=\"staking\">锁仓挖矿激励</option>\n                      </select>\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm text-gray-400 mb-1\">\n                        触发条件\n                      </label>\n                      <div className=\"flex items-center\">\n                        <select\n                          value={editForm.thresholdType}\n                          onChange={(e) =>\n                            updateEditForm(\n                              'thresholdType',\n                              e.target.value as 'above' | 'below',\n                            )\n                          }\n                          className=\"bg-gray-900 border border-gray-700 rounded-md p-2 text-white mr-2\"\n                        >\n                          <option value=\"above\">高于</option>\n                          <option value=\"below\">低于</option>\n                        </select>\n\n                        <input\n                          type=\"number\"\n                          value={editForm.priceThreshold}\n                          onChange={(e) =>\n                            updateEditForm(\n                              'priceThreshold',\n                              parseFloat(e.target.value),\n                            )\n                          }\n                          step=\"0.1\"\n                          min=\"0\"\n                          className=\"flex-1 bg-gray-900 border border-gray-700 rounded-md p-2 text-white\"\n                        />\n                        <span className=\"ml-2\">SM</span>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                    <div>\n                      <label className=\"block text-sm text-gray-400 mb-1\">\n                        {editForm.mechanismType === 'buyback'\n                          ? '回购数量'\n                          : editForm.mechanismType === 'dynamic-rate'\n                            ? '费率调整'\n                            : '年化收益率'}\n                      </label>\n                      <div className=\"flex items-center\">\n                        <input\n                          type=\"number\"\n                          value={editForm.actionAmount}\n                          onChange={(e) =>\n                            updateEditForm(\n                              'actionAmount',\n                              parseFloat(e.target.value),\n                            )\n                          }\n                          step={\n                            editForm.mechanismType === 'buyback' ? 1000 : 0.1\n                          }\n                          min=\"0\"\n                          className=\"flex-1 bg-gray-900 border border-gray-700 rounded-md p-2 text-white\"\n                        />\n                        <span className=\"ml-2\">\n                          {editForm.mechanismType === 'buyback'\n                            ? 'SM'\n                            : editForm.mechanismType === 'dynamic-rate'\n                              ? '%'\n                              : '% APY'}\n                        </span>\n                      </div>\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm text-gray-400 mb-1\">\n                        冷却时间\n                      </label>\n                      <div className=\"flex items-center\">\n                        <input\n                          type=\"number\"\n                          value={editForm.cooldownHours}\n                          onChange={(e) =>\n                            updateEditForm(\n                              'cooldownHours',\n                              parseInt(e.target.value),\n                            )\n                          }\n                          step=\"1\"\n                          min=\"0\"\n                          className=\"flex-1 bg-gray-900 border border-gray-700 rounded-md p-2 text-white\"\n                        />\n                        <span className=\"ml-2\">小时</span>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"flex items-center mb-2\">\n                    <input\n                      type=\"checkbox\"\n                      id={`active-${editForm.id}`}\n                      checked={editForm.isActive}\n                      onChange={(e) =>\n                        updateEditForm('isActive', e.target.checked)\n                      }\n                      className=\"mr-2\"\n                    />\n                    <label\n                      htmlFor={`active-${editForm.id}`}\n                      className=\"text-sm\"\n                    >\n                      启用此触发条件\n                    </label>\n                  </div>\n\n                  <div className=\"flex justify-end space-x-2 mt-4\">\n                    <button\n                      onClick={() => deleteCondition(editForm.id)}\n                      className=\"px-3 py-1 bg-red-600/70 hover:bg-red-600 text-white rounded-md text-sm\"\n                    >\n                      删除\n                    </button>\n                    <button\n                      onClick={cancelEditing}\n                      className=\"px-3 py-1 bg-gray-700 hover:bg-gray-600 text-white rounded-md text-sm\"\n                    >\n                      取消\n                    </button>\n                    <button\n                      onClick={saveEditing}\n                      className=\"px-3 py-1 bg-primary hover:bg-primary/90 text-white rounded-md text-sm flex items-center\"\n                    >\n                      <FaSave className=\"mr-1\" /> 保存\n                    </button>\n                  </div>\n                </div>\n              ) : (\n                // 显示触发条件\n                <div className=\"p-4\">\n                  <div className=\"flex justify-between items-start\">\n                    <div>\n                      <div className=\"flex items-center\">\n                        <span\n                          className={`inline-block w-2 h-2 rounded-full ${condition.isActive ? 'bg-green-500' : 'bg-gray-500'} mr-2`}\n                        ></span>\n                        <h4 className=\"font-medium\">\n                          {getMechanismName(condition.mechanismType)}\n                        </h4>\n                      </div>\n\n                      <div className=\"text-sm text-gray-400 mt-1\">\n                        当价格\n                        {condition.thresholdType === 'above' ? '高于' : '低于'}{' '}\n                        <span className=\"text-white\">\n                          {condition.priceThreshold} SM\n                        </span>{' '}\n                        时触发\n                      </div>\n                    </div>\n\n                    <div className=\"flex items-center space-x-2\">\n                      <button\n                        onClick={() => toggleConditionStatus(condition.id)}\n                        className={`text-xs px-2 py-1 rounded-md ${\n                          condition.isActive\n                            ? 'bg-green-500/20 text-green-500'\n                            : 'bg-gray-500/20 text-gray-400'\n                        }`}\n                      >\n                        {condition.isActive ? '已启用' : '已禁用'}\n                      </button>\n\n                      <button\n                        onClick={() => startEditing(condition)}\n                        className=\"text-xs px-2 py-1 bg-gray-700 hover:bg-gray-600 text-white rounded-md\"\n                      >\n                        编辑\n                      </button>\n                    </div>\n                  </div>\n\n                  <div className=\"grid grid-cols-2 gap-4 mt-3 text-sm\">\n                    <div>\n                      <span className=\"text-gray-500\">操作数量:</span>\n                      <span className=\"ml-2\">\n                        {getActionDisplay(condition)}\n                      </span>\n                    </div>\n\n                    <div>\n                      <span className=\"text-gray-500\">冷却时间:</span>\n                      <span className=\"ml-2\">\n                        {condition.cooldownHours} 小时\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n      )}\n\n      <div className=\"mt-6 p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-md flex items-start\">\n        <FaExclamationTriangle className=\"text-yellow-400 mt-0.5 mr-2 flex-shrink-0\" />\n        <p className=\"text-sm text-gray-300\">\n          注意：自动触发机制可能会影响系统储备金和流动性。请确保设置合理的触发阈值和操作数量，避免过度干预市场。建议配置多级触发条件，形成梯度保护机制。\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default StabilizationConfig;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BAmcA;;;;;;WAAAA,QAAA;;;;;;;;iCAncyB;;;;;;;;;;;;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","ignoreList":[]}