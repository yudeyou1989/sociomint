{"version":3,"names":["ExchangeSection","cov_1lhi54soxu","f","wallet","updateBalances","s","_WalletContext","useWallet","inputAmount","setInputAmount","_react","useState","outputAmount","setOutputAmount","exchangeRate","setExchangeRate","isProcessing","setIsProcessing","useEffect","fetchExchangeRate","Promise","resolve","setTimeout","rate","Math","floor","random","error","console","interval","setInterval","clearInterval","calculateOutput","input","b","isNaN","Number","bnbAmount","parseFloat","smAmount","toFixed","handleInputChange","e","value","target","_security","InputValidator","validateNumber","numValue","validateRange","SecurityConfig","numberLimits","minAmount","maxAmount","handleExchange","isConnected","alert","currentBnbBalance","balance","bnb","handleMaxAmount","bnbBalance","max","_jsxruntime","jsxs","className","jsx","_fa","FaExchangeAlt","onClick","type","onChange","placeholder","disabled","sm","readOnly","FaGasPump","Fragment"],"sources":["/Users/yudeyou/Desktop/sm/sociomint/src/components/home/ExchangeSection.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { FaExchangeAlt, FaGasPump } from 'react-icons/fa';\nimport { useWallet } from '@/contexts/WalletContext';\nimport {\n  FaArrowDown,\n  FaArrowUp\n} from 'react-icons/fa';\nimport { InputValidator, SecurityConfig } from '@/lib/security';\n\nexport default function ExchangeSection() {\n  const { wallet, updateBalances } = useWallet();\n\n  // 输入值\n  const [inputAmount, setInputAmount] = useState<string>('');\n  // 输出值\n  const [outputAmount, setOutputAmount] = useState<string>('0');\n  // 模拟汇率 (1 BNB = ? SM)\n  const [exchangeRate, setExchangeRate] = useState<number>(1200);\n  // 处理状态\n  const [isProcessing, setIsProcessing] = useState<boolean>(false);\n\n  // 模拟获取汇率\n  useEffect(() => {\n    // 在实际应用中，这里应该从预言机或API获取实时汇率\n    const fetchExchangeRate = async () => {\n      try {\n        // 模拟API请求延迟\n        await new Promise((resolve) => setTimeout(resolve, 1000));\n        // 随机生成1100-1300之间的汇率\n        const rate = 1100 + Math.floor(Math.random() * 200);\n        setExchangeRate(rate);\n      } catch (error) {\n        console.error('获取汇率失败:', error);\n      }\n    };\n\n    fetchExchangeRate();\n    // 每30秒更新一次汇率\n    const interval = setInterval(fetchExchangeRate, 30000);\n\n    return () => clearInterval(interval as NodeJS.Timeout);\n  }, []);\n\n  // 根据输入计算输出\n  const calculateOutput = (input: string) => {\n    if (!input || isNaN(Number(input))) {\n      return '0';\n    }\n\n    const bnbAmount = parseFloat(input);\n    const smAmount = bnbAmount * exchangeRate;\n\n    return smAmount.toFixed(2);\n  };\n\n  // 处理输入变化\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n\n    // 使用安全的输入验证\n    if (value === '' || InputValidator.validateNumber(value)) {\n      // 检查数值范围\n      const numValue = parseFloat(value);\n      if (value !== '' && !InputValidator.validateRange(numValue, SecurityConfig.numberLimits.minAmount, SecurityConfig.numberLimits.maxAmount)) {\n        return; // 超出范围，不更新\n      }\n\n      setInputAmount(value);\n      setOutputAmount(calculateOutput(value));\n    }\n  };\n\n  // 处理兑换操作\n  const handleExchange = async () => {\n    if (!wallet.isConnected) {\n      alert('请先连接钱包');\n      return;\n    }\n\n    if (!inputAmount || parseFloat(inputAmount) <= 0) {\n      alert('请输入有效的BNB数量');\n      return;\n    }\n\n    const bnbAmount = parseFloat(inputAmount);\n    const currentBnbBalance = wallet.balance ? parseFloat(wallet.balance.bnb) : 0;\n    if (bnbAmount > currentBnbBalance) {\n      alert('BNB余额不足');\n      return;\n    }\n\n    setIsProcessing(true);\n\n    try {\n      // 在实际应用中，这里应该调用智能合约进行实际兑换\n      // 模拟交易延迟\n      await new Promise((resolve) => setTimeout(resolve, 2000));\n\n      // 计算SM数量\n      const smAmount = bnbAmount * exchangeRate;\n\n      // 更新余额 - 调用钱包服务重新获取余额\n      await updateBalances();\n\n      // 重置表单\n      setInputAmount('');\n      setOutputAmount('0');\n\n      // 显示成功消息\n      alert(\n        `兑换成功！您已将 ${bnbAmount} BNB 兑换为 ${smAmount.toFixed(2)} SM`,\n      );\n    } catch (error) {\n      console.error('兑换失败:', error);\n      alert('兑换失败，请稍后重试');\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  // 最大可兑换金额\n  const handleMaxAmount = () => {\n    if (wallet.isConnected && wallet.balance) {\n      const bnbBalance = parseFloat(wallet.balance.bnb);\n      if (bnbBalance > 0) {\n        // 保留4位小数\n        const maxAmount = Math.max(0, bnbBalance).toFixed(4);\n        setInputAmount(maxAmount);\n        setOutputAmount(calculateOutput(maxAmount));\n      }\n    }\n  };\n\n  return (\n    <div className=\"glass-card p-6\">\n      <h2 className=\"text-2xl font-bold mb-6\">BNB兑换SM</h2>\n\n      {/* 汇率显示 */}\n      <div className=\"flex items-center justify-between mb-6 p-3 bg-black/30 rounded-lg border border-gray-800\">\n        <div className=\"flex items-center gap-2\">\n          <FaExchangeAlt className=\"text-primary\" />\n          <span className=\"text-sm text-gray-300\">当前汇率</span>\n        </div>\n        <div className=\"font-medium\">\n          1 BNB = <span className=\"text-primary\">{exchangeRate}</span> SM\n        </div>\n      </div>\n\n      {/* 兑换表单 */}\n      <div className=\"space-y-4\">\n        {/* 输入框 - BNB */}\n        <div className=\"bg-black/40 p-4 rounded-lg border border-gray-800\">\n          <div className=\"flex justify-between mb-2\">\n            <label className=\"text-sm text-gray-400\">从</label>\n            {wallet.isConnected && wallet.balance && (\n              <div className=\"text-xs text-gray-400\">\n                余额: {parseFloat(wallet.balance.bnb).toFixed(4)} BNB\n                <button\n                  onClick={handleMaxAmount}\n                  className=\"ml-2 text-primary text-xs hover:underline\"\n                >\n                  最大\n                </button>\n              </div>\n            )}\n          </div>\n\n          <div className=\"flex items-center\">\n            <input\n              type=\"text\"\n              value={inputAmount}\n              onChange={handleInputChange}\n              placeholder=\"0.0\"\n              className=\"bg-transparent text-white text-xl w-full focus:outline-none\"\n              disabled={isProcessing}\n            />\n            <div className=\"flex items-center gap-2 font-medium\">\n              <div className=\"w-6 h-6 rounded-full bg-yellow-500 flex items-center justify-center text-xs font-bold text-black\">\n                B\n              </div>\n              BNB\n            </div>\n          </div>\n        </div>\n\n        {/* 输出框 - SM */}\n        <div className=\"bg-black/40 p-4 rounded-lg border border-gray-800\">\n          <div className=\"flex justify-between mb-2\">\n            <label className=\"text-sm text-gray-400\">至</label>\n            {wallet.isConnected && wallet.balance && wallet.balance.sm && (\n              <div className=\"text-xs text-gray-400\">\n                余额: {parseFloat(wallet.balance.sm).toFixed(2)} SM\n              </div>\n            )}\n          </div>\n\n          <div className=\"flex items-center\">\n            <input\n              type=\"text\"\n              value={outputAmount}\n              readOnly\n              className=\"bg-transparent text-white text-xl w-full focus:outline-none\"\n            />\n            <div className=\"flex items-center gap-2 font-medium\">\n              <div className=\"w-6 h-6 rounded-full bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-xs font-bold text-white\">\n                SM\n              </div>\n              SM\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Gas费提示 */}\n      <div className=\"flex items-center gap-2 mt-4 mb-6 text-sm text-gray-400\">\n        <FaGasPump className=\"text-yellow-500\" />\n        <span>您需要支付少量BNB作为Gas费用</span>\n      </div>\n\n      {/* 兑换按钮 */}\n      <button\n        onClick={handleExchange}\n        disabled={\n          isProcessing ||\n          !wallet.isConnected ||\n          !inputAmount ||\n          parseFloat(inputAmount) <= 0\n        }\n        className={`w-full py-3 px-4 rounded-md flex items-center justify-center gap-2 ${\n          isProcessing ||\n          !wallet.isConnected ||\n          !inputAmount ||\n          parseFloat(inputAmount) <= 0\n            ? 'bg-gray-700 text-gray-400 cursor-not-allowed'\n            : 'neon-button'\n        }`}\n      >\n        {isProcessing ? (\n          <>\n            <div className=\"w-5 h-5 border-2 border-t-transparent border-white rounded-full animate-spin\"></div>\n            处理中...\n          </>\n        ) : (\n          '兑换'\n        )}\n      </button>\n\n      {!wallet.isConnected && (\n        <div className=\"mt-4 p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-md text-yellow-400\">\n          <p>请先连接钱包以使用兑换功能</p>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}