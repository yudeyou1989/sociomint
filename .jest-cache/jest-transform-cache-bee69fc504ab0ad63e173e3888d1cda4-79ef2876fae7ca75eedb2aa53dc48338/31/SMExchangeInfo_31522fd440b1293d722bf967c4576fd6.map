{"version":3,"names":["_default","EXCHANGE_PROXY_ADDRESS","cov_ca65xz185","s","SMExchangeInfo","f","wallet","connect","updateBalances","_WalletContext","useWallet","amount","setAmount","_react","useState","estimatedTokens","setEstimatedTokens","txStatus","setTxStatus","txHash","setTxHash","isLoading","setIsLoading","exchangeStats","setExchangeStats","useEffect","fetchExchangeStats","interval","setInterval","isConnected","b","clearInterval","stats","_contractService","default","getExchangeStats","provider","ContractService","getReadOnlyProvider","contract","_ethers","ethers","Contract","getExchangeABI","totalTokensSold","formatEther","totalTokensRemaining","totalBnbRaised","currentPrice","formatUnits","nextRoundPrice","isActive","paused","currentRound","error","console","_reacthottoast","calculateEstimatedTokens","parseFloat","bnbAmount","tokens","toFixed","handlePurchase","tx","exchangeTokens","hash","loading","wait","receipt","status","success","Error","message","formatPrice","price","handleConnectWallet","_jsxruntime","jsxs","_material","Box","sx","maxWidth","mx","p","jsx","Typography","variant","component","gutterBottom","align","display","gridTemplateColumns","xs","md","gap","Card","mb","height","CardContent","justifyContent","my","CircularProgress","toString","toLocaleString","address","mt","pt","borderTop","wordBreak","balance","bnb","sm","textAlign","Button","color","size","onClick","TextField","fullWidth","label","type","slotProps","htmlInput","min","step","value","onChange","e","target","disabled","bgcolor","borderRadius","fontWeight","border","href","rel","style","textDecoration","startIcon"],"sources":["/Users/yudeyou/Desktop/sm/sociomint/src/components/SMExchangeInfo.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { ethers, formatEther, formatUnits } from 'ethers';\nimport { Box, Typography, TextField, Button, Card, CardContent, CircularProgress } from '@mui/material';\nimport { useWallet } from '@/contexts/WalletContext';\nimport contractService, { ContractService } from '@/services/contractService';\nimport toast from 'react-hot-toast';\n\n// BSC测试网合约地址\nconst EXCHANGE_PROXY_ADDRESS = '0x1B03DD8dCeD4c7D38ABA907671e5e1064D10F8A8';\n\n// 交易状态类型\ntype TransactionStatus = 'none' | 'waiting' | 'pending' | 'success' | 'failed';\n\nconst SMExchangeInfo: React.FC = () => {\n  const { wallet, connect, updateBalances } = useWallet();\n  \n  // 购买状态\n  const [amount, setAmount] = useState<string>('0.1');\n  const [estimatedTokens, setEstimatedTokens] = useState<string>('0');\n  const [txStatus, setTxStatus] = useState<TransactionStatus>('none');\n  const [txHash, setTxHash] = useState<string | null>(null);\n  \n  // 加载状态\n  const [isLoading, setIsLoading] = useState(true);\n  const [exchangeStats, setExchangeStats] = useState<any>(null);\n  \n  // 初始加载和自动刷新\n  useEffect(() => {\n    fetchExchangeStats();\n\n    // 设置定时刷新\n    const interval = setInterval(() => {\n      if (wallet.isConnected) {\n        fetchExchangeStats();\n        updateBalances();\n      }\n    }, 30000); // 30秒刷新一次\n\n    return () => clearInterval(interval as unknown as number);\n  }, [wallet.isConnected]);\n  \n  // 获取交易所统计数据\n  const fetchExchangeStats = async () => {\n    setIsLoading(true);\n    try {\n      if (wallet.isConnected) {\n        const stats = await contractService.getExchangeStats();\n        setExchangeStats(stats);\n      } else {\n        // 如果钱包未连接，使用只读provider获取数据\n        const provider = ContractService.getReadOnlyProvider();\n        const contract = new ethers.Contract(EXCHANGE_PROXY_ADDRESS, contractService.getExchangeABI(), provider);\n        const stats = await contract.getExchangeStats();\n        \n        setExchangeStats({\n          totalTokensSold: formatEther(stats.totalTokensSold),\n          totalTokensRemaining: formatEther(stats.totalTokensRemaining),\n          totalBnbRaised: formatEther(stats.totalBnbRaised),\n          currentPrice: formatUnits(stats.currentPrice, 'gwei'),\n          nextRoundPrice: formatUnits(stats.nextRoundPrice, 'gwei'),\n          isActive: !stats.paused,\n          currentRound: stats.currentRound\n        });\n      }\n    } catch (error) {\n      console.error('获取交易所统计数据失败:', error);\n      toast.error('无法获取交易所统计数据');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  \n  // 计算预估代币数量\n  const calculateEstimatedTokens = () => {\n    if (!exchangeStats || !amount || parseFloat(amount) <= 0) {\n      setEstimatedTokens('0');\n      return;\n    }\n    \n    try {\n      // 使用当前价格计算\n      const currentPrice = parseFloat(exchangeStats.currentPrice) / 1e9;\n      const bnbAmount = parseFloat(amount);\n      const tokens = bnbAmount / currentPrice;\n      \n      setEstimatedTokens(tokens.toFixed(6));\n    } catch (error) {\n      console.error('计算预估代币数量失败:', error);\n      setEstimatedTokens('0');\n    }\n  };\n  \n  // 购买代币\n  const handlePurchase = async () => {\n    if (!wallet.isConnected) {\n      toast.error('请先连接钱包');\n      return;\n    }\n    \n    if (!amount || parseFloat(amount) <= 0) {\n      toast.error('请输入有效的BNB金额');\n      return;\n    }\n    \n    setTxStatus('waiting');\n    try {\n      const tx = await contractService.exchangeTokens(amount);\n\n      // 处理不同类型的交易响应\n      const txHash = typeof tx === 'string' ? tx : (tx as any)?.hash || '';\n      setTxHash(txHash);\n      setTxStatus('pending');\n\n      toast.loading('交易确认中...');\n\n      // 如果tx是字符串（hash），则无需等待；如果是交易对象，则等待确认\n      if (typeof tx !== 'string' && (tx as any)?.wait) {\n        const receipt = await (tx as any).wait();\n        if (receipt && receipt.status === 1) {\n          toast.success('购买成功！');\n          setTxStatus('success');\n          // 刷新数据\n          fetchExchangeStats();\n          updateBalances();\n        } else {\n          toast.error('交易失败');\n          setTxStatus('failed');\n        }\n      } else {\n        // 如果是字符串hash，直接认为成功\n        toast.success('交易已提交！');\n        setTxStatus('success');\n        fetchExchangeStats();\n        updateBalances();\n      }\n    } catch (error) {\n      console.error('购买代币失败:', error);\n      toast.error('交易失败: ' + (error instanceof Error ? error.message : '未知错误'));\n      setTxStatus('failed');\n    }\n  };\n  \n  // 格式化显示的价格\n  const formatPrice = (price: string | null | undefined) => {\n    if (!price) return 'N/A';\n    return (parseFloat(price) / 1e9).toFixed(12);\n  };\n  \n  // 连接钱包\n  const handleConnectWallet = async () => {\n    if (!wallet.isConnected) {\n      try {\n        await connect();\n        fetchExchangeStats();\n      } catch (error) {\n        console.error('连接钱包失败:', error);\n      }\n    }\n  };\n  \n  useEffect(() => {\n    if (exchangeStats && amount) {\n      calculateEstimatedTokens();\n    }\n  }, [exchangeStats, amount]);\n  \n  return (\n    <Box sx={{ maxWidth: 800, mx: 'auto', p: 3 }}>\n      <Typography variant=\"h4\" component=\"h1\" gutterBottom align=\"center\">\n        SM 代币兑换\n      </Typography>\n      \n      <Box sx={{ display: 'grid', gridTemplateColumns: { xs: '1fr', md: '1fr 1fr' }, gap: 4 }}>\n        <Box>\n          <Card sx={{ mb: 4, height: '100%' }}>\n            <CardContent>\n              <Typography variant=\"h6\" gutterBottom>\n                交易统计\n              </Typography>\n              \n              {isLoading ? (\n                <Box sx={{ display: 'flex', justifyContent: 'center', my: 4 }}>\n                  <CircularProgress />\n                </Box>\n              ) : exchangeStats ? (\n                <Box>\n                  <Typography variant=\"body2\" sx={{ mb: 1 }}>\n                    <strong>当前轮次:</strong> {exchangeStats.currentRound?.toString() || 'N/A'}\n                  </Typography>\n                  <Typography variant=\"body2\" sx={{ mb: 1 }}>\n                    <strong>已售代币:</strong> {parseFloat(exchangeStats.totalTokensSold || '0').toLocaleString()} SM\n                  </Typography>\n                  <Typography variant=\"body2\" sx={{ mb: 1 }}>\n                    <strong>剩余代币:</strong> {parseFloat(exchangeStats.totalTokensRemaining || '0').toLocaleString()} SM\n                  </Typography>\n                  <Typography variant=\"body2\" sx={{ mb: 1 }}>\n                    <strong>已筹集:</strong> {parseFloat(exchangeStats.totalBnbRaised || '0').toLocaleString()} BNB\n                  </Typography>\n                  <Typography variant=\"body2\" sx={{ mb: 1 }}>\n                    <strong>当前价格:</strong> {formatPrice(exchangeStats.currentPrice)} BNB/SM\n                  </Typography>\n                  <Typography variant=\"body2\" sx={{ mb: 1 }}>\n                    <strong>下一轮价格:</strong> {formatPrice(exchangeStats.nextRoundPrice)} BNB/SM\n                  </Typography>\n                  <Typography variant=\"body2\" sx={{ mb: 1 }}>\n                    <strong>交易状态:</strong> {exchangeStats.isActive ? '启用' : '暂停'}\n                  </Typography>\n                  \n                  {wallet.address && (\n                    <Box sx={{ mt: 3, pt: 2, borderTop: '1px solid #eee' }}>\n                      <Typography variant=\"subtitle2\" gutterBottom>\n                        钱包信息\n                      </Typography>\n                      <Typography variant=\"body2\" sx={{ wordBreak: 'break-all', mb: 1 }}>\n                        <strong>地址:</strong> {wallet.address}\n                      </Typography>\n                      <Typography variant=\"body2\" sx={{ mb: 1 }}>\n                        <strong>BNB 余额:</strong> {parseFloat(wallet.balance?.bnb || '0').toFixed(4)} BNB\n                      </Typography>\n                      <Typography variant=\"body2\" sx={{ mb: 1 }}>\n                        <strong>SM 余额:</strong> {parseFloat(wallet.balance?.sm || '0').toFixed(4)} SM\n                      </Typography>\n                    </Box>\n                  )}\n                </Box>\n              ) : (\n                <Typography>无法获取交易统计数据</Typography>\n              )}\n            </CardContent>\n          </Card>\n        </Box>\n        \n        <Box>\n          <Card sx={{ height: '100%' }}>\n            <CardContent>\n              <Typography variant=\"h6\" gutterBottom>\n                购买代币\n              </Typography>\n              \n              {!wallet.isConnected ? (\n                <Box sx={{ textAlign: 'center', my: 4 }}>\n                  <Button \n                    variant=\"contained\" \n                    color=\"primary\"\n                    size=\"large\"\n                    onClick={handleConnectWallet}\n                  >\n                    连接钱包\n                  </Button>\n                  <Typography variant=\"body2\" sx={{ mt: 2 }}>\n                    连接钱包以购买 SM 代币\n                  </Typography>\n                </Box>\n              ) : (\n                <Box>\n                  <TextField\n                    fullWidth\n                    label=\"BNB 数量\"\n                    type=\"number\"\n                    slotProps={{\n                      htmlInput: { min: 0.001, step: 0.01 }\n                    }}\n                    value={amount}\n                    onChange={(e) => setAmount(e.target.value)}\n                    sx={{ mb: 3 }}\n                    disabled={txStatus === 'waiting' || txStatus === 'pending'}\n                  />\n                  \n                  <Box sx={{ \n                    bgcolor: '#f5f5f5', \n                    p: 2, \n                    borderRadius: 1, \n                    mb: 3, \n                    display: 'flex', \n                    justifyContent: 'space-between'\n                  }}>\n                    <Typography variant=\"body2\">预计获得:</Typography>\n                    <Typography variant=\"body1\" fontWeight=\"bold\">\n                      {estimatedTokens} SM\n                    </Typography>\n                  </Box>\n                  \n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    fullWidth\n                    size=\"large\"\n                    onClick={handlePurchase}\n                    disabled={\n                      txStatus === 'waiting' || \n                      txStatus === 'pending' || \n                      !exchangeStats?.isActive ||\n                      !amount || \n                      parseFloat(amount) <= 0\n                    }\n                  >\n                    {txStatus === 'waiting' || txStatus === 'pending' ? (\n                      <CircularProgress size={24} color=\"inherit\" />\n                    ) : (\n                      '购买代币'\n                    )}\n                  </Button>\n                  \n                  {txStatus !== 'none' && (\n                    <Box sx={{\n                      mt: 2,\n                      p: 2,\n                      borderRadius: 1,\n                      bgcolor: \n                        txStatus === 'waiting' || txStatus === 'pending' ? '#fff9db' :\n                        txStatus === 'success' ? '#ebfbee' :\n                        '#fff5f5',\n                      border: \n                        txStatus === 'waiting' || txStatus === 'pending' ? '1px solid #ffe066' :\n                        txStatus === 'success' ? '1px solid #8ce99a' :\n                        '1px solid #ffc9c9',\n                    }}>\n                      <Typography variant=\"body2\" sx={{\n                        color: \n                          txStatus === 'waiting' || txStatus === 'pending' ? '#e67700' :\n                          txStatus === 'success' ? '#2b8a3e' :\n                          '#e03131',\n                        fontWeight: 500,\n                        mb: txHash ? 1 : 0,\n                      }}>\n                        {txStatus === 'waiting' ? '准备中...' :\n                         txStatus === 'pending' ? '交易进行中...' :\n                         txStatus === 'success' ? '交易成功！' :\n                         '交易失败，请重试'}\n                      </Typography>\n                      \n                      {txHash && (txStatus === 'pending' || txStatus === 'success') && (\n                        <Typography variant=\"body2\">\n                          <a \n                            href={`https://testnet.bscscan.com/tx/${txHash}`} \n                            target=\"_blank\" \n                            rel=\"noopener noreferrer\"\n                            style={{\n                              color: '#1c7ed6',\n                              textDecoration: 'none',\n                            }}\n                          >\n                            查看交易详情\n                          </a>\n                        </Typography>\n                      )}\n                    </Box>\n                  )}\n                </Box>\n              )}\n            </CardContent>\n          </Card>\n        </Box>\n      </Box>\n      \n      <Box sx={{ mt: 3, textAlign: 'center' }}>\n        <Button\n          variant=\"outlined\"\n          color=\"primary\"\n          onClick={fetchExchangeStats}\n          startIcon={isLoading && <CircularProgress size={16} />}\n          disabled={isLoading}\n        >\n          刷新数据\n        </Button>\n      </Box>\n    </Box>\n  );\n};\n\nexport default SMExchangeInfo;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}