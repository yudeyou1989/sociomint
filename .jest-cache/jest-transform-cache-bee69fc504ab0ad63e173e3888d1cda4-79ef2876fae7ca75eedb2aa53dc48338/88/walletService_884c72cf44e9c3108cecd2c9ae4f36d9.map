{"version":3,"names":["cov_1o4scm9yy0","actualCoverage","s","connectBrowserWallet","f","connectCoinbase","connectMetamask","connectTokenPocket","connectTrustWallet","connectWallet","connectWalletByType","connectWalletConnect","connectWalletConnectV2","disconnectWallet","getConnectedWalletType","getCurrentAccount","getCurrentChainId","getNetworkInfo","getUserNetworks","hasEthereum","isBrowser","isWalletInstalled","setupAccountChangeListener","switchNetwork","logger","_logger","default","createContextLogger","component","NETWORKS","chainId","name","currency","rpcUrl","blockExplorerUrl","testnet","walletConnectProvider","ethereumProvider","window","getEthereum","b","ethereum","type","Boolean","isMetaMask","isCoinbaseWallet","isTrust","isTokenPocket","e","warn","action","additionalData","error","walletType","network","find","net","accounts","request","method","chainIdHex","parseInt","params","toString","chainName","nativeCurrency","symbol","decimals","rpcUrls","blockExplorerUrls","addError","callback","handleAccountsChanged","on","removeListener","callbacks","walletNames","metamask","coinbase","trustwallet","tokenpocket","Error","provider","length","address","onDisconnect","onAccountsChanged","newChainId","onChainChanged","onConnect","projectId","process","env","NEXT_PUBLIC_WALLET_CONNECT_PROJECT_ID","disconnect","_ethereumprovider","EthereumProvider","init","showQrModal","chains","optionalChains","methods","events","qrModalOptions","themeMode","themeVariables","info","getAccounts","then","enable","_web3provider","rpc","NEXT_PUBLIC_ETH_RPC_URL","NEXT_PUBLIC_BSC_RPC_URL","NEXT_PUBLIC_BSC_TESTNET_RPC_URL","NEXT_PUBLIC_CHAIN_ID","qrcode","qrcodeModalOptions","mobileLinks","desktopLinks","connected","localStorage","removeItem"],"sources":["/Users/yudeyou/Desktop/sm/sociomint/src/services/walletService.ts"],"sourcesContent":["'use client';\n\n/**\n * 统一的钱包服务 - 支持服务器端渲染和客户端使用\n * 整合了simpleWalletService和walletService的功能\n */\n\nimport WalletConnectProvider from '@walletconnect/web3-provider';\nimport { EthereumProvider } from '@walletconnect/ethereum-provider';\nimport Logger from './logger';\n\n// 创建日志记录器\nconst logger = Logger.createContextLogger({ component: 'WalletService' });\n\n// 钱包类型\nexport type WalletType = 'metamask' | 'walletconnect' | 'coinbase' | 'trustwallet' | 'tokenpocket';\n\n// 钱包连接回调接口\nexport interface WalletCallbacks {\n  onConnect?: (address: string, chainId: number) => void;\n  onDisconnect?: () => void;\n  onAccountsChanged?: (accounts: string[]) => void;\n  onChainChanged?: (chainId: number) => void;\n}\n\n// 网络定义\nexport interface NetworkInfo {\n  chainId: number;\n  name: string;\n  currency: string;\n  rpcUrl: string;\n  blockExplorerUrl: string;\n  testnet: boolean;\n}\n\n// 支持的网络\nconst NETWORKS: NetworkInfo[] = [\n  {\n    chainId: 56,\n    name: 'BSC',\n    currency: 'BNB',\n    rpcUrl: 'https://bsc-dataseed.binance.org/',\n    blockExplorerUrl: 'https://bscscan.com',\n    testnet: false\n  },\n  {\n    chainId: 97,\n    name: 'BSC Testnet',\n    currency: 'tBNB',\n    rpcUrl: 'https://data-seed-prebsc-1-s1.binance.org:8545/',\n    blockExplorerUrl: 'https://testnet.bscscan.com',\n    testnet: true\n  }\n];\n\n// WalletConnect 提供者单例\nlet walletConnectProvider: WalletConnectProvider | null = null;\nlet ethereumProvider: any = null; // 使用any类型暂时避开类型错误\n\n// 检查是否在浏览器环境\nexport const isBrowser = () => typeof window !== 'undefined';\n\n// 安全地访问 window.ethereum\nconst getEthereum = () => {\n  if (isBrowser() && typeof window.ethereum !== 'undefined') {\n    return window.ethereum;\n  }\n  return null;\n}\n\n// 检查是否有钱包可用\nexport const hasEthereum = (): boolean => {\n  return getEthereum() !== null;\n};\n\n// 检查钱包是否安装\nexport const isWalletInstalled = (type: WalletType): boolean => {\n  try {\n    if (!isBrowser()) return false;\n\n    switch (type) {\n      case 'metamask':\n        return Boolean(window.ethereum?.isMetaMask);\n      case 'coinbase':\n        return Boolean(window.ethereum?.isCoinbaseWallet);\n      case 'trustwallet':\n        return Boolean(window.ethereum?.isTrust);\n      case 'tokenpocket':\n        return Boolean(window.ethereum?.isTokenPocket);\n      case 'walletconnect':\n        return true; // WalletConnect 不需要安装浏览器插件\n      default:\n        return false;\n    }\n  } catch (e) {\n    logger.warn(`检查钱包安装时出错: ${type}`, {\n      action: 'isWalletInstalled',\n      additionalData: { error: e, walletType: type }\n    });\n    return false;\n  }\n};\n\n// 获取所有支持的网络\nexport const getUserNetworks = (): NetworkInfo[] => {\n  return NETWORKS;\n};\n\n// 根据链ID获取网络信息\nexport const getNetworkInfo = (chainId: number): NetworkInfo | null => {\n  const network = NETWORKS.find(net => net.chainId === chainId);\n  return network || null;\n};\n\n// 连接钱包\nexport const connectWallet = async (): Promise<string | null> => {\n  const ethereum = getEthereum();\n  if (!ethereum) return null;\n\n  try {\n    const accounts = await ethereum.request({ method: 'eth_requestAccounts' });\n    return accounts[0] || null;\n  } catch (error) {\n    logger.error('连接钱包时出错', {\n      action: 'connectWallet',\n      additionalData: { error }\n    });\n    return null;\n  }\n};\n\n// 获取当前账户\nexport const getCurrentAccount = async (): Promise<string | null> => {\n  const ethereum = getEthereum();\n  if (!ethereum) return null;\n\n  try {\n    const accounts = await ethereum.request({ method: 'eth_accounts' });\n    return accounts[0] || null;\n  } catch (error) {\n    logger.error('获取账户时出错', {\n      action: 'getCurrentAccount',\n      additionalData: { error }\n    });\n    return null;\n  }\n};\n\n// 获取当前链ID\nexport const getCurrentChainId = async (): Promise<number | null> => {\n  const ethereum = getEthereum();\n  if (!ethereum) return null;\n\n  try {\n    const chainIdHex = await ethereum.request({ method: 'eth_chainId' });\n    return chainIdHex ? parseInt(chainIdHex, 16) : null;\n  } catch (error) {\n    logger.error('获取链ID时出错', {\n      action: 'getCurrentChainId',\n      additionalData: { error }\n    });\n    return null;\n  }\n};\n\n// 切换网络\nexport const switchNetwork = async (chainId: number): Promise<boolean> => {\n  const ethereum = getEthereum();\n  if (!ethereum) return false;\n\n  try {\n    await ethereum.request({\n      method: 'wallet_switchEthereumChain',\n      params: [{ chainId: `0x${chainId.toString(16)}` }]\n    });\n    return true;\n  } catch (error) {\n    logger.warn('切换网络时出错', {\n      action: 'switchNetwork',\n      additionalData: { error, chainId }\n    });\n\n    // 如果网络不存在，尝试添加\n    const network = getNetworkInfo(chainId);\n    if (network) {\n      try {\n        await ethereum.request({\n          method: 'wallet_addEthereumChain',\n          params: [{\n            chainId: `0x${chainId.toString(16)}`,\n            chainName: network.name,\n            nativeCurrency: {\n              name: network.currency,\n              symbol: network.currency,\n              decimals: 18\n            },\n            rpcUrls: [network.rpcUrl],\n            blockExplorerUrls: [network.blockExplorerUrl]\n          }]\n        });\n        return true;\n      } catch (addError) {\n        logger.error('添加网络时出错', {\n          action: 'addNetwork',\n          additionalData: { error: addError, chainId, network }\n        });\n        return false;\n      }\n    }\n    return false;\n  }\n};\n\n// 设置账户变化监听器\nexport const setupAccountChangeListener = (callback: (accounts: string[]) => void): (() => void) | null => {\n  const ethereum = getEthereum();\n  if (!ethereum) return null;\n\n  const handleAccountsChanged = (accounts: string[]) => {\n    callback(accounts);\n  };\n\n  ethereum.on('accountsChanged', handleAccountsChanged);\n\n  // 返回清理函数\n  return () => {\n    ethereum.removeListener('accountsChanged', handleAccountsChanged);\n  };\n};\n\n// 连接浏览器插件钱包\nexport async function connectBrowserWallet(type: 'metamask' | 'coinbase' | 'trustwallet' | 'tokenpocket', callbacks?: WalletCallbacks): Promise<{ address: string; chainId: number } | null> {\n  try {\n    if (!isWalletInstalled(type)) {\n      const walletNames = {\n        metamask: 'MetaMask',\n        coinbase: 'Coinbase Wallet',\n        trustwallet: 'Trust Wallet',\n        tokenpocket: 'TokenPocket'\n      };\n\n      throw new Error(`${walletNames[type]}钱包未安装`);\n    }\n\n    // 确保ethereum存在\n    if (!window.ethereum) {\n      throw new Error('无法访问以太坊提供者');\n    }\n\n    // 安全地获取ethereum引用\n    const provider = window.ethereum;\n\n    // 请求账户授权\n    const accounts = await provider.request({ method: 'eth_requestAccounts' });\n\n    if (!accounts || accounts.length === 0) {\n      throw new Error('未能获取钱包账户');\n    }\n\n    const address = accounts[0];\n\n    // 获取链ID\n    const chainIdHex = await provider.request({ method: 'eth_chainId' });\n    const chainId = parseInt(chainIdHex as string, 16);\n\n    // 设置事件监听\n    provider.on('accountsChanged', (accounts: string[]) => {\n      if (accounts.length === 0) {\n        callbacks?.onDisconnect?.();\n      } else {\n        callbacks?.onAccountsChanged?.(accounts);\n      }\n    });\n\n    provider.on('chainChanged', (chainIdHex: string) => {\n      const newChainId = parseInt(chainIdHex, 16);\n      callbacks?.onChainChanged?.(newChainId);\n    });\n\n    provider.on('disconnect', () => {\n      callbacks?.onDisconnect?.();\n    });\n\n    // 触发连接回调\n    callbacks?.onConnect?.(address, chainId);\n\n    return { address, chainId };\n  } catch (error) {\n    logger.error(`连接${type}钱包失败`, {\n      action: 'connectBrowserWallet',\n      additionalData: { error, walletType: type }\n    });\n    return null;\n  }\n}\n\n// 连接 MetaMask\nexport async function connectMetamask(callbacks?: WalletCallbacks): Promise<{ address: string; chainId: number } | null> {\n  return connectBrowserWallet('metamask', callbacks);\n}\n\n// 连接 Coinbase Wallet\nexport async function connectCoinbase(callbacks?: WalletCallbacks): Promise<{ address: string; chainId: number } | null> {\n  return connectBrowserWallet('coinbase', callbacks);\n}\n\n// 连接 Trust Wallet\nexport async function connectTrustWallet(callbacks?: WalletCallbacks): Promise<{ address: string; chainId: number } | null> {\n  return connectBrowserWallet('trustwallet', callbacks);\n}\n\n// 连接 TokenPocket\nexport async function connectTokenPocket(callbacks?: WalletCallbacks): Promise<{ address: string; chainId: number } | null> {\n  return connectBrowserWallet('tokenpocket', callbacks);\n}\n\n// 连接 WalletConnect (使用最新版本)\nexport async function connectWalletConnectV2(callbacks?: WalletCallbacks): Promise<{ address: string; chainId: number } | null> {\n  try {\n    // 项目ID从环境变量获取\n    const projectId = process.env.NEXT_PUBLIC_WALLET_CONNECT_PROJECT_ID;\n    if (!projectId) {\n      throw new Error('未配置WalletConnect项目ID');\n    }\n\n    // 如果已有连接，先断开\n    if (ethereumProvider) {\n      await ethereumProvider.disconnect();\n      ethereumProvider = null;\n    }\n\n    // 创建新的EthereumProvider\n    ethereumProvider = await EthereumProvider.init({\n      projectId,\n      showQrModal: true,\n      chains: [56], // BSC Mainnet\n      optionalChains: [1, 97], // Ethereum Mainnet, BSC Testnet\n      methods: [\n        'eth_sendTransaction',\n        'eth_sign',\n        'personal_sign',\n        'eth_signTypedData',\n      ],\n      events: [\n        'chainChanged',\n        'accountsChanged',\n      ],\n      qrModalOptions: {\n        themeMode: 'dark',\n        themeVariables: {\n          '--wcm-z-index': '99999999', // 确保QR码模态框在最上层\n          '--wcm-font-family': 'sans-serif',\n          '--wcm-background-color': '#1a1a1a',\n          '--wcm-accent-color': '#0de5ff',\n        },\n      }\n    });\n\n    // 注册事件监听器\n    ethereumProvider.on('connect', (info: { chainId: number }) => {\n      ethereumProvider?.getAccounts().then((accounts: string[]) => {\n        if (callbacks?.onConnect && accounts.length > 0) {\n          callbacks.onConnect(accounts[0], info.chainId);\n        }\n      });\n    });\n\n    ethereumProvider.on('disconnect', () => {\n      if (callbacks?.onDisconnect) {\n        callbacks.onDisconnect();\n      }\n    });\n\n    ethereumProvider.on('accountsChanged', (accounts: string[]) => {\n      if (callbacks?.onAccountsChanged) {\n        callbacks.onAccountsChanged(accounts);\n      }\n    });\n\n    ethereumProvider.on('chainChanged', (chainId: number) => {\n      if (callbacks?.onChainChanged) {\n        callbacks.onChainChanged(chainId);\n      }\n    });\n\n    // 请求连接\n    await ethereumProvider.enable();\n    const accounts = await ethereumProvider.getAccounts();\n\n    if (accounts && accounts.length > 0) {\n      return {\n        address: accounts[0],\n        chainId: ethereumProvider.chainId\n      };\n    }\n\n    return null;\n  } catch (error) {\n    logger.error('WalletConnect 连接失败', {\n      action: 'connectWalletConnectV2',\n      additionalData: { error }\n    });\n    return null;\n  }\n}\n\n// 连接 WalletConnect\nexport async function connectWalletConnect(callbacks?: WalletCallbacks): Promise<{ address: string; chainId: number } | null> {\n  try {\n    // 尝试使用新版连接\n    if (process.env.NEXT_PUBLIC_WALLET_CONNECT_PROJECT_ID) {\n      return connectWalletConnectV2(callbacks);\n    }\n\n    // 如果没有项目ID，回退到旧版\n    // 如果已有连接，先断开\n    if (walletConnectProvider) {\n      await walletConnectProvider.disconnect();\n      walletConnectProvider = null;\n    }\n\n    // 创建新的 WalletConnect 提供者\n    walletConnectProvider = new WalletConnectProvider({\n      rpc: {\n        1: process.env.NEXT_PUBLIC_ETH_RPC_URL || 'https://mainnet.infura.io/v3/',\n        56: process.env.NEXT_PUBLIC_BSC_RPC_URL || 'https://bsc-dataseed.binance.org',\n        97: process.env.NEXT_PUBLIC_BSC_TESTNET_RPC_URL || 'https://data-seed-prebsc-1-s1.binance.org:8545'\n      },\n      chainId: parseInt(process.env.NEXT_PUBLIC_CHAIN_ID || '56', 10),\n      qrcode: true,\n      qrcodeModalOptions: {\n        mobileLinks: ['metamask', 'trust', 'coinbase', 'tokenpocket'],\n        desktopLinks: ['metamask', 'trust', 'coinbase', 'tokenpocket'],\n      }\n    });\n\n    // 注册事件监听器\n    walletConnectProvider.on('connect', (info: { accounts: string[]; chainId: number }) => {\n      if (callbacks?.onConnect && info.accounts.length > 0) {\n        callbacks.onConnect(info.accounts[0], info.chainId);\n      }\n    });\n\n    walletConnectProvider.on('disconnect', () => {\n      if (callbacks?.onDisconnect) {\n        callbacks.onDisconnect();\n      }\n    });\n\n    walletConnectProvider.on('accountsChanged', (accounts: string[]) => {\n      if (callbacks?.onAccountsChanged) {\n        callbacks.onAccountsChanged(accounts);\n      }\n    });\n\n    walletConnectProvider.on('chainChanged', (chainId: number) => {\n      if (callbacks?.onChainChanged) {\n        callbacks.onChainChanged(chainId);\n      }\n    });\n\n    // 请求连接\n    const accounts = await walletConnectProvider.enable();\n\n    if (accounts && accounts.length > 0) {\n      return {\n        address: accounts[0],\n        chainId: walletConnectProvider.chainId\n      };\n    }\n\n    return null;\n  } catch (error) {\n    logger.error('WalletConnect 连接失败', {\n      action: 'connectWalletConnect',\n      additionalData: { error }\n    });\n    return null;\n  }\n}\n\n// 连接指定类型的钱包\nexport async function connectWalletByType(type: WalletType, callbacks?: WalletCallbacks): Promise<{ address: string; chainId: number } | null> {\n  switch(type) {\n    case 'metamask':\n      return connectMetamask(callbacks);\n    case 'coinbase':\n      return connectCoinbase(callbacks);\n    case 'trustwallet':\n      return connectTrustWallet(callbacks);\n    case 'tokenpocket':\n      return connectTokenPocket(callbacks);\n    case 'walletconnect':\n      return connectWalletConnect(callbacks);\n    default:\n      throw new Error(`不支持的钱包类型: ${type}`);\n  }\n}\n\n// 获取当前连接的钱包类型\nexport function getConnectedWalletType(): WalletType | null {\n  if (!isBrowser()) return null;\n\n  if (ethereumProvider?.connected || walletConnectProvider?.connected) {\n    return 'walletconnect';\n  }\n\n  if (!window.ethereum) return null;\n\n  if (window.ethereum.isMetaMask) return 'metamask';\n  if (window.ethereum.isCoinbaseWallet) return 'coinbase';\n  if (window.ethereum.isTrust) return 'trustwallet';\n  if (window.ethereum.isTokenPocket) return 'tokenpocket';\n\n  return null;\n}\n\n// 断开钱包连接\nexport async function disconnectWallet(walletType?: WalletType): Promise<void> {\n  if (walletType === 'walletconnect' || !walletType) {\n    try {\n      if (ethereumProvider) {\n        await ethereumProvider.disconnect();\n        ethereumProvider = null;\n      } else if (walletConnectProvider) {\n        await walletConnectProvider.disconnect();\n        walletConnectProvider = null;\n      }\n    } catch (error) {\n      logger.error('断开 WalletConnect 失败', {\n        action: 'disconnectWallet',\n        additionalData: { error }\n      });\n    }\n  }\n\n  // 对于浏览器插件钱包，我们可以清除本地存储\n  if (isBrowser()) {\n    localStorage.removeItem('walletconnect');\n  }\n}\n\n// 扩展window对象类型\ndeclare global {\n  interface Window {\n    ethereum?: {\n      request: (args: any) => Promise<any>;\n      on: (event: string, callback: any) => void;\n      removeListener: (event: string, callback: any) => void;\n      isMetaMask?: boolean;\n      isCoinbaseWallet?: boolean;\n      isTrust?: boolean;\n      isTokenPocket?: boolean;\n    };\n  }\n}\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}