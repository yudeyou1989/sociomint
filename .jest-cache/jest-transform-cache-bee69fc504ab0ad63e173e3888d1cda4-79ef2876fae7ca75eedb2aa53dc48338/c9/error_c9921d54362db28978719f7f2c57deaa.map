{"version":3,"names":["GlobalError","error","reset","cov_nx35f8quo","f","s","_react","useEffect","_errorMonitoring","default","captureError","ErrorSeverity","HIGH","component","path","window","location","pathname","_jsxruntime","jsx","_Container","maxWidth","sx","py","jsxs","_Paper","elevation","p","borderRadius","border","borderColor","bgcolor","_Box","textAlign","mb","_Typography","variant","color","gutterBottom","fontWeight","overflowX","fontFamily","message","b","stack","Fragment","_Button","onClick","size","href","ml"],"sources":["/Users/yudeyou/Desktop/sm/sociomint/src/app/error.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect } from 'react';\nimport { Button, Container, Typography, Box, Paper } from '@mui/material';\nimport ErrorMonitoring from '@/services/errorMonitoring';\n\n/**\n * 全局错误处理组件\n * \n * 这个组件会捕获并显示应用程序中的错误\n * 在 Next.js App Router 中，这个文件必须命名为 error.tsx\n */\nexport default function GlobalError({\n  error,\n  reset,\n}: {\n  error: Error & { digest?: string };\n  reset: () => void;\n}) {\n  useEffect(() => {\n    // 记录错误\n    ErrorMonitoring.captureError(error, ErrorMonitoring.ErrorSeverity.HIGH, {\n      component: 'GlobalError',\n      path: window.location.pathname,\n    });\n  }, [error]);\n\n  return (\n    <Container maxWidth=\"md\" sx={{ py: 8 }}>\n      <Paper \n        elevation={3} \n        sx={{ \n          p: 4, \n          borderRadius: 2,\n          border: '1px solid',\n          borderColor: 'error.light',\n          bgcolor: 'error.lighter'\n        }}\n      >\n        <Box sx={{ textAlign: 'center', mb: 4 }}>\n          <Typography variant=\"h4\" component=\"h1\" color=\"error\" gutterBottom>\n            出现了一些问题\n          </Typography>\n          <Typography variant=\"body1\" color=\"text.secondary\">\n            应用程序遇到了错误。我们已记录此问题并将尽快修复。\n          </Typography>\n        </Box>\n\n        <Box sx={{ mb: 4 }}>\n          <Typography variant=\"subtitle1\" fontWeight=\"bold\" gutterBottom>\n            错误详情:\n          </Typography>\n          <Paper \n            variant=\"outlined\" \n            sx={{ \n              p: 2, \n              bgcolor: 'background.paper',\n              overflowX: 'auto'\n            }}\n          >\n            <Typography variant=\"body2\" component=\"pre\" sx={{ fontFamily: 'monospace' }}>\n              {error.message}\n              {error.stack && (\n                <>\n                  <br />\n                  <br />\n                  {error.stack}\n                </>\n              )}\n            </Typography>\n          </Paper>\n        </Box>\n\n        <Box sx={{ textAlign: 'center' }}>\n          <Button \n            variant=\"contained\" \n            color=\"primary\" \n            onClick={reset}\n            size=\"large\"\n          >\n            重试\n          </Button>\n          <Button \n            variant=\"outlined\" \n            color=\"primary\" \n            onClick={() => window.location.href = '/'}\n            size=\"large\"\n            sx={{ ml: 2 }}\n          >\n            返回首页\n          </Button>\n        </Box>\n      </Paper>\n    </Container>\n  );\n}\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMA;;;;;;AAMA;;;;;;WAAwBA,WAAA;;;;;;;;wEAVS;;;;;;;;;;;;;;;;;;wEAEL;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQb,SAASA,YAAY;EAClCC,KAAK;EACLC;AAAK,CAIN;EAAA;EAAAC,aAAA,GAAAC,CAAA;EAAAD,aAAA,GAAAE,CAAA;EACC,IAAAC,MAAA,CAAAC,SAAS,EAAC;IAAA;IAAAJ,aAAA,GAAAC,CAAA;IAAAD,aAAA,GAAAE,CAAA;IACR;IACAG,gBAAA,CAAAC,OAAe,CAACC,YAAY,CAACT,KAAA,EAAOO,gBAAA,CAAAC,OAAe,CAACE,aAAa,CAACC,IAAI,EAAE;MACtEC,SAAA,EAAW;MACXC,IAAA,EAAMC,MAAA,CAAOC,QAAQ,CAACC;IACxB;EACF,GAAG,CAAChB,KAAA,CAAM;EAAA;EAAAE,aAAA,GAAAE,CAAA;EAEV,oBACE,IAAAa,WAAA,CAAAC,GAAA,EAACC,UAAA,CAAAX,OAAS;IAACY,QAAA,EAAS;IAAKC,EAAA,EAAI;MAAEC,EAAA,EAAI;IAAE;cACnC,iBAAAL,WAAA,CAAAM,IAAA,EAACC,MAAA,CAAAhB,OAAK;MACJiB,SAAA,EAAW;MACXJ,EAAA,EAAI;QACFK,CAAA,EAAG;QACHC,YAAA,EAAc;QACdC,MAAA,EAAQ;QACRC,WAAA,EAAa;QACbC,OAAA,EAAS;MACX;8BAEA,IAAAb,WAAA,CAAAM,IAAA,EAACQ,IAAA,CAAAvB,OAAG;QAACa,EAAA,EAAI;UAAEW,SAAA,EAAW;UAAUC,EAAA,EAAI;QAAE;gCACpC,IAAAhB,WAAA,CAAAC,GAAA,EAACgB,WAAA,CAAA1B,OAAU;UAAC2B,OAAA,EAAQ;UAAKvB,SAAA,EAAU;UAAKwB,KAAA,EAAM;UAAQC,YAAY;oBAAC;yBAGnE,IAAApB,WAAA,CAAAC,GAAA,EAACgB,WAAA,CAAA1B,OAAU;UAAC2B,OAAA,EAAQ;UAAQC,KAAA,EAAM;oBAAiB;;uBAKrD,IAAAnB,WAAA,CAAAM,IAAA,EAACQ,IAAA,CAAAvB,OAAG;QAACa,EAAA,EAAI;UAAEY,EAAA,EAAI;QAAE;gCACf,IAAAhB,WAAA,CAAAC,GAAA,EAACgB,WAAA,CAAA1B,OAAU;UAAC2B,OAAA,EAAQ;UAAYG,UAAA,EAAW;UAAOD,YAAY;oBAAC;yBAG/D,IAAApB,WAAA,CAAAC,GAAA,EAACM,MAAA,CAAAhB,OAAK;UACJ2B,OAAA,EAAQ;UACRd,EAAA,EAAI;YACFK,CAAA,EAAG;YACHI,OAAA,EAAS;YACTS,SAAA,EAAW;UACb;oBAEA,iBAAAtB,WAAA,CAAAM,IAAA,EAACW,WAAA,CAAA1B,OAAU;YAAC2B,OAAA,EAAQ;YAAQvB,SAAA,EAAU;YAAMS,EAAA,EAAI;cAAEmB,UAAA,EAAY;YAAY;uBACvExC,KAAA,CAAMyC,OAAO;YACb;YAAA,CAAAvC,aAAA,GAAAwC,CAAA,WAAA1C,KAAA,CAAM2C,KAAK;YAAA;YAAA,CAAAzC,aAAA,GAAAwC,CAAA,wBACV,IAAAzB,WAAA,CAAAM,IAAA,EAAAN,WAAA,CAAA2B,QAAA;sCACE,IAAA3B,WAAA,CAAAC,GAAA,EAAC,W,aACD,IAAAD,WAAA,CAAAC,GAAA,EAAC,WACAlB,KAAA,CAAM2C,KAAK;;;;uBAOtB,IAAA1B,WAAA,CAAAM,IAAA,EAACQ,IAAA,CAAAvB,OAAG;QAACa,EAAA,EAAI;UAAEW,SAAA,EAAW;QAAS;gCAC7B,IAAAf,WAAA,CAAAC,GAAA,EAAC2B,OAAA,CAAArC,OAAM;UACL2B,OAAA,EAAQ;UACRC,KAAA,EAAM;UACNU,OAAA,EAAS7C,KAAA;UACT8C,IAAA,EAAK;oBACN;yBAGD,IAAA9B,WAAA,CAAAC,GAAA,EAAC2B,OAAA,CAAArC,OAAM;UACL2B,OAAA,EAAQ;UACRC,KAAA,EAAM;UACNU,OAAA,EAASA,CAAA,KAAM;YAAA;YAAA5C,aAAA,GAAAC,CAAA;YAAAD,aAAA,GAAAE,CAAA;YAAA,OAAAU,MAAA,CAAOC,QAAQ,CAACiC,IAAI,GAAG;UAAA;UACtCD,IAAA,EAAK;UACL1B,EAAA,EAAI;YAAE4B,EAAA,EAAI;UAAE;oBACb;;;;;AAOX","ignoreList":[]}